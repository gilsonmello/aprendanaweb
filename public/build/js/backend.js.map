{"version":3,"sources":["shared.js","plugins.js","main.js","courses.js","coupons.js","myworkshoptutor.js","Chart.min.js","charts.js","edit_tutor_activity.js","video-preview-content.js","index.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"backend.js","sourcesContent":["function findAddressBrazil(zipInput, idCityInput, cityInput, stateInput, addressInput, neighborhoodInput) {\r\n\r\n    if (zipInput.val() == \"42.700-000\") {\r\n        //Cidade de Lauro de Freitas\r\n        idCityInput.val('-');\r\n        cityInput.val('Lauro de Freitas');\r\n        stateInput.val('BA');\r\n        addressInput.val('CENTRO');\r\n        neighborhoodInput.val('CENTRO');\r\n\r\n    } else {\r\n\r\n        var request = $.ajax({\r\n            url: \"https://viacep.com.br/ws/\" + zipInput.val().replace(/\\D/g, '') + \"/json/\",\r\n            method: \"POST\",\r\n            dataType: \"jsonp\"\r\n        });\r\n\r\n        request.done(function (msg) {\r\n            idCityInput.val(msg.ibge);\r\n            cityInput.val(msg.localidade);\r\n            stateInput.val(msg.uf);\r\n            addressInput.val(msg.logradouro);\r\n            neighborhoodInput.val(msg.bairro);\r\n        });\r\n\r\n        request.fail(function (jqXHR, textStatus) {\r\n            cityInput.val('Falha na busca da cidade');\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nfunction returnAddressBrazil(zip) {\r\n    var request = $.ajax({\r\n        url: \"https://viacep.com.br/ws/\" + zip + \"/json/\",\r\n        method: \"POST\",\r\n        dataType: \"jsonp\"\r\n    });\r\n\r\n\r\n    var indexedAddress;\r\n\r\n    request.done(function (msg) {\r\n        indexedAddress[\"cityCode\"] = msg.ibge;\r\n        indexedAddress[\"cityName\"] = msg.localidade;\r\n        indexedAddress[\"state\"] = msg.uf;\r\n        indexedAddress[\"address\"] = logradouro;\r\n        indexedAddress[\"neighborhood\"] = msg.bairro;\r\n    });\r\n\r\n}\r\n\r\n\r\n//TODO: Terminar essa função\r\nfunction image_url(entity, id, photo, size, alternate)\r\n{\r\n\r\n    if (size == undefined) {\r\n        size = '';\r\n    } else {\r\n        size = '_size' + size;\r\n    }\r\n\r\n    if (alternate == undefined) {\r\n        alternate = \"generic.png\";\r\n    }\r\n\r\n    if (photo == undefined || photo == \"\")\r\n        return \"/img/system/\" + alternate;\r\n    var splitted = photo.split('.');\r\n    photo = '/uploads/' + entity + '/' + id + '/' + splitted[0] + size + '.' + splitted[1];\r\n\r\n\r\n    return photo;\r\n    /*\r\n     $.ajax({\r\n     url: photo,\r\n     error: function(){\r\n     return \"/img/system/\" + alternate;\r\n     },\r\n     success: function(){\r\n     console.log(photo);\r\n     return photo;\r\n     }\r\n     \r\n     \r\n     }); */\r\n}\r\n\r\n\r\nfunction insertion_sort(list) {\r\n    var size = list.length;\r\n\r\n    for (var i = 1; i < size; i++) {\r\n        var pivot = list[i];\r\n        var j = i;\r\n        while (j > 0 && list[j - 1] > pivot) {\r\n            list[j] = list[j - 1];\r\n            j = j - 1;\r\n        }\r\n        list[j] = pivot;\r\n    }\r\n    return list;\r\n}\r\n\r\n\r\nfunction php_to_javascript_date(php_date) {\r\n    var match = php_date.match(/^(\\d+)-(\\d+)-(\\d+) (\\d+)\\:(\\d+)\\:(\\d+)$/);\r\n    var date = new Date(match[1], match[2] - 1, match[3], match[4], match[5], match[6]);\r\n\r\n    return date;\r\n}\r\n\r\nfunction mark_as_read() {\r\n    $(\".notification-menu .content\").on('click', function () {\r\n        $.ajax({\r\n            url: \"/exam/get-next-question\",\r\n            type: \"POST\",\r\n            data: {\r\n                'question': next,\r\n                'from-result': from_result\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n            }\r\n        });\r\n    });\r\n}","// Avoid `console` errors in browsers that lack a console.\r\n(function () {\r\n    var method;\r\n    var noop = function () {\r\n    };\r\n    var methods = [\r\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\r\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\r\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\r\n        'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'\r\n    ];\r\n    var length = methods.length;\r\n    var console = (window.console = window.console || {});\r\n\r\n    while (length--) {\r\n        method = methods[length];\r\n\r\n        // Only stub undefined methods.\r\n        if (!console[method]) {\r\n            console[method] = noop;\r\n        }\r\n    }\r\n}());\r\n\r\n// Place any jQuery/helper plugins in here.\r\n$(function () {\r\n\r\n    $(document).ready(function () {\r\n        $('[data-toggle=\"tooltip\"]').tooltip();\r\n    });\r\n\r\n\r\n    if ($(\".colorpicker-box\").length)\r\n        $(\".colorpicker-box\").colorpicker();\r\n    if ($.isFunction($.fn.select2)) {\r\n        $(\".select2\").select2();\r\n    }\r\n    if ($.isFunction($.fn.datepicker)) {\r\n        $(\".datepicker\").datepicker({format: 'dd/mm/yyyy'});\r\n    }\r\n\r\n    if ($.isFunction($.fn.wysihtml5)) {\r\n        if (!$(\"#comments-content\").length) {\r\n\r\n            $(\".textarea\").wysihtml5({\r\n                toolbar: {\r\n                    html: true,\r\n                },\r\n                parserRules: {\r\n                    tags: {\r\n                        strong: {},\r\n                        em: {},\r\n                        table: {\r\n                            check_attributes: {\r\n                                width: \"any\",\r\n                                style: \"any\",\r\n                                colspan: \"any\",\r\n                            }\r\n                        },\r\n                        td: {\r\n                            check_attributes: {\r\n                                width: \"any\",\r\n                                style: \"any\",\r\n                                colspan: \"any\",\r\n                            }\r\n                        },\r\n                        tr: {\r\n                            check_attributes: {\r\n                                width: \"any\",\r\n                                style: \"any\",\r\n                                colspan: \"any\",\r\n                            }\r\n                        },\r\n                        th: {\r\n                            check_attributes: {\r\n                                width: \"any\",\r\n                                style: \"any\",\r\n                                colspan: \"any\",\r\n                            }\r\n                        },\r\n                        img: {\r\n                            check_attributes: {\r\n                                src: \"src\",\r\n                            }\r\n                        }\r\n                    },\r\n                },\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    setRandom();\r\n\r\n    $(\".title-has-slug\").blur(function () {\r\n        var slug = convertToSlug(this.value);\r\n        $(\".slug-from-title\").val(slug);\r\n    });\r\n    if ($.isFunction($.fn.select2)) {\r\n        $(\".selectCity\").select2({\r\n            ajax: {\r\n                url: \"/admin/cities/select/\",\r\n                dataType: 'json',\r\n                delay: 250,\r\n                data: function (params) {\r\n                    return {\r\n                        term: params.term, // search term\r\n                        page: params.page\r\n                    };\r\n                },\r\n                processResults: function (data, page) {\r\n                    return {\r\n                        results: data.results\r\n                    };\r\n                },\r\n                cache: false\r\n            },\r\n            escapeMarkup: function (markup) {\r\n                return markup;\r\n            },\r\n            minimumInputLength: 3,\r\n            templateResult: formatRepo,\r\n            templateSelection: formatRepoSelection\r\n        });\r\n    }\r\n    function formatRepo(repo) {\r\n        if (repo.loading)\r\n            return repo.text;\r\n        var markup = '<div class=\"clearfix\">' + repo.name + '</div>';\r\n        return markup;\r\n    }\r\n\r\n    function formatRepoSelection(repo) {\r\n        return repo.name;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    if ($.isFunction($.fn.select2)) {\r\n        $('.tags-select').select2({\r\n            tags: true,\r\n            minimumInputLength: 3,\r\n            ajax: {\r\n                type: 'POST',\r\n                url: '/admin/tags/select',\r\n                dataType: 'json',\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                data: function (params) {\r\n                    return {\r\n                        term: params.term\r\n                    };\r\n                },\r\n                processResults: function (data) {\r\n                    return {results: data};\r\n                }\r\n            }\r\n        });\r\n\r\n        createSelect('courses');\r\n        createSelect('students');\r\n        createSelect('users', '/admin/access/users/select');\r\n        if ($(\"#course-data\").length > 0)\r\n            createSelect('lessons', '/admin/lessons/select', undefined, $(\"#course-data\").data('course-id'));\r\n    }\r\n\r\n\r\n\r\n    $(\".zip\").on('blur', function (e) {\r\n        findAddressBrazil($(\"#zip\"), $(\"#city_id\"), $(\"#city\"), $(\"#state\"), $(\"#address\"), $(\"#neighborhood\"));\r\n    });\r\n\r\n    $(\".zip\").parent().parent().one('mouseover', function () {\r\n        findAddressBrazil($(\"#zip\"), $(\"#city_id\"), $(\"#city\"), $(\"#state\"), $(\"#address\"), $(\"#neighborhood\"));\r\n    });\r\n\r\n\r\n    $(\".testCoupon\").on('click', function (e) {\r\n        if ($(\"#coupon_code\").val() != '') {\r\n            alert('Confirme o cupom de descontos informado antes de finalizar a compra. Para isso, clique em Ok.');\r\n            return false;\r\n        }\r\n    });\r\n\r\n    // Relativo a tabs\r\n    //-----------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n    if ($(\"#module-table\").length)\r\n        createModuleTable();\r\n\r\n    /*\r\n     Allows you to add data-method=\"METHOD to links to automatically inject a form with the method on click\r\n     Example: <a href=\"{{route('customers.destroy', $customer->id)}}\" data-method=\"delete\" name=\"delete_item\">Delete</a>\r\n     Injects a form with that's fired on click of the link with a DELETE request.\r\n     Good because you don't have to dirty your HTML with delete forms everywhere.\r\n     */\r\n\r\n    $(\".cel\").inputmask(\"(99) 999999999\");\r\n    $(\".personal_id\").inputmask(\"999.999.999-99\");\r\n    $(\".company_id\").inputmask(\"99.999.999/9999-99\");\r\n    $(\".birthdate\").inputmask(\"99/99/9999\");\r\n    $(\".datemask\").inputmask(\"99/99/9999\");\r\n    $(\".zip\").inputmask(\"99.999-999\");\r\n\r\n    var mask = 0;\r\n    $('.grade').focus(function () {\r\n        if (mask == 0) {\r\n            $('.grade').inputmask({mask: '[9][9][9].99', numericInput: true});\r\n            mask = 1;\r\n        }\r\n    });\r\n\r\n    $('.grade').click(function () {\r\n        if (mask == 0) {\r\n            $('.grade').inputmask({mask: '[9][9][9].99', numericInput: true});\r\n            mask = 1;\r\n        }\r\n    });\r\n\r\n\r\n    $(\".money\").maskMoney({thousands: '.', decimal: ',', affixesStay: false, allowZero: true});\r\n    //$(\".time\").maskMoney({thousands:'',decimal:',',affixesStay: false, allowZero: true});\r\n\r\n    $('[data-method]').append(function ()\r\n    {\r\n        //id do order\r\n        var orderid = $(this).attr('data-id');\r\n        var typeAlert = $(this).attr('data-alert');\r\n        var message = $(this).attr('data-message');\r\n        var name = null;\r\n        switch (typeAlert) {\r\n            case 'delete-order':\r\n                name = \"delete_order\";\r\n                break;\r\n            case 'send_email':\r\n                name = \"send_email\";\r\n                break;\r\n            default:\r\n                name = \"delete_item\";\r\n                break;\r\n        }\r\n        return \"\\n\" +\r\n                \"<form action='\" + $(this).attr('href') + \"' method='POST' data-id='\" + orderid + \"' data-message='\" + message + \"' name='\" + name + \"' style='display:none'>\\n\" +\r\n                \"   <input type='hidden' name='_method' value='\" + $(this).attr('data-method') + \"'>\\n\" +\r\n                \"   <input type='hidden' name='_token' value='\" + $('meta[name=\"_token\"]').attr('content') + \"'>\\n\" +\r\n                \"</form>\\n\"\r\n    })\r\n            .removeAttr('href')\r\n            .attr('style', 'cursor:pointer;')\r\n            .attr('onclick', '$(this).find(\"form\").submit();');\r\n\r\n    /*\r\n     Generic are you sure dialog\r\n     */\r\n    $('form[name=delete_item]').submit(function () {\r\n        return confirm(\"Tem certeza que deseja excluir esse item?\");\r\n    });\r\n\r\n    /**\r\n     * Todo fomulário que contém o nome\r\n     */\r\n    //Formulário para exclusao de pedidos\r\n    $('form[name=delete_order]')\r\n            .submit(function () {\r\n\r\n                console.log('Enviando para Google Analytcs' + ' Order:' + $(this).attr('data-id'));\r\n\r\n                //Se o atributo data-message ele exibe a messagem de data-message\r\n                if ($(this).attr('data-message') != undefined) {\r\n\r\n                    //Se o usuario confirmar a exclusão o pedido será retirado do google analitcs\r\n                    if (confirm($(this).attr('data-message'))) {\r\n                        //Pesquisando dados do pedido para exclusão do google analitcs\r\n                        $.ajax({\r\n                            url: \"/admin/orders/\" + $(this).attr('data-id'),\r\n                            method: 'GET'\r\n                        }).done(function (data) {\r\n\r\n                            //Recuperando informaçoes do pedido e itens\r\n                            var items = data[1];\r\n                            var transaction = data[0];\r\n                            ga('create', 'UA-78805304-1', 'auto', {'name': 'myTracker'});\r\n                            ga('myTracker.require', 'ecommerce');\r\n                            ga('myTracker.ecommerce:addTransaction', transaction);\r\n\r\n                            for (var i in items) {\r\n                                ga('myTracker.ecommerce:addItem', items[i]);\r\n                            }\r\n\r\n                            //Nao remove do google analitcs se estiver sendo executado em Localhost\r\n                            if (window.location.hostname != 'localhost') {\r\n                                ga('myTracker.ecommerce:send');\r\n                                console.log('Removed of Google Analitcs');\r\n                            } else {\r\n                                console.log('Not Removed of Google Analitcs because is LocalHost');\r\n                            }\r\n\r\n                        });\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                }\r\n            });\r\n    /*\r\n     Generic are you sure dialog\r\n     */\r\n    $('form[name=send_email]').submit(function () {\r\n        if ($(this).attr('data-message') != undefined) {\r\n            return confirm($(this).attr('data-message'));\r\n        }\r\n        return confirm(\"Tem certeza que deseja enviar a mensagem para o(s) aluno(s)?\");\r\n    });\r\n\r\n    /*\r\n     Bind all bootstrap tooltips\r\n     */\r\n    $(\"[data-toggle=\\\"tooltip\\\"]\").tooltip();\r\n    $(\"[data-toggle=\\\"popover\\\"]\").popover();\r\n    //This closes the popover when its clicked away from\r\n    $('body').on('click', function (e) {\r\n        $('[data-toggle=\"popover\"]').each(function () {\r\n            if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {\r\n                $(this).popover('hide');\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\nfunction convertToSlug(str)\r\n{\r\n    str = str.replace(/^\\s+|\\s+$/g, ''); // trim\r\n    str = str.toLowerCase();\r\n\r\n    // remove accents, swap ñ for n, etc\r\n    var from = \"ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;\";\r\n    var to = \"aaaaaeeeeeiiiiooooouuuunc------\";\r\n    for (var i = 0, l = from.length; i < l; i++) {\r\n        str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\r\n    }\r\n\r\n    str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\r\n            .replace(/\\s+/g, '-') // collapse whitespace and replace by -\r\n            .replace(/-+/g, '-'); // collapse dashes\r\n\r\n    return str;\r\n}\r\n\r\n//Função geradoras de select2. O primeiro parâmetro pode ser tanto um nome quanto um seletor do campo no qual aplicará o jquery.\r\n//Caso um nome seja passado em selector, ele assumirá que o campo alvo possui a classe  nome-select\r\n//Opcionalmente, uma rota pode ser passada\r\nfunction createSelect(selector, route, modal, other_parameter) {\r\n\r\n    var target_route;\r\n    if (route == undefined) {\r\n        target_route = '/admin/' + selector + '/select';\r\n    } else {\r\n        target_route = route;\r\n    }\r\n\r\n    var param = other_parameter;\r\n    var $select_selector;\r\n\r\n    if (selector instanceof jQuery) {\r\n        $select_selector = selector;\r\n\r\n    } else {\r\n        $select_selector = $('.' + selector + '-select');\r\n    }\r\n    if (modal == undefined) {\r\n        $select_selector.select2({\r\n            minimumInputLength: 3,\r\n            ajax: {\r\n                type: 'POST',\r\n                url: target_route,\r\n                dataType: 'json',\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                data: function (params) {\r\n                    if (param != undefined) {\r\n                        return{\r\n                            term: params.term,\r\n                            other: param,\r\n                        }\r\n                    }\r\n                    return {\r\n                        term: params.term\r\n                    };\r\n                },\r\n                processResults: function (data) {\r\n                    return {results: data};\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        $select_selector.select2({\r\n            minimumInputLength: 3,\r\n            dropdownParent: modal,\r\n            ajax: {\r\n                type: 'POST',\r\n                url: target_route,\r\n                dataType: 'json',\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                data: function (params) {\r\n                    if (param != undefined) {\r\n                        return{\r\n                            term: params.term,\r\n                            other: param,\r\n                        }\r\n                    }\r\n                    return {\r\n                        term: params.term\r\n                    };\r\n                },\r\n                processResults: function (data) {\r\n                    return {results: data};\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction generateUUID() {\r\n    var d = new Date().getTime();\r\n    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n    return uuid;\r\n}\r\n;\r\n\r\n\r\nfunction setRandom() {\r\n    $('#random_code').on('click', function () {\r\n        $('[name=\"code\"]').val(generateUUID());\r\n    });\r\n}\r\n\r\n","/*! AdminLTE app.js\r\n * ================\r\n * Main JS application file for AdminLTE v2. This file\r\n * should be included in all pages. It controls some layout\r\n * options and implements exclusive AdminLTE plugins.\r\n *\r\n * @Author  Almsaeed Studio\r\n * @Support <http://www.almsaeedstudio.com>\r\n * @Email   <support@almsaeedstudio.com>\r\n * @version 2.0.5\r\n * @license MIT <http://opensource.org/licenses/MIT>\r\n */\r\n\r\n'use strict';\r\n\r\n//Make sure jQuery has been loaded before app.js\r\nif (typeof jQuery === \"undefined\") {\r\n    throw new Error(\"AdminLTE requires jQuery\");\r\n}\r\n\r\n/* AdminLTE\r\n *\r\n * @type Object\r\n * @description $.AdminLTE is the main object for the template's app.\r\n *              It's used for implementing functions and options related\r\n *              to the template. Keeping everything wrapped in an object\r\n *              prevents conflict with other plugins and is a better\r\n *              way to organize our code.\r\n */\r\n$.AdminLTE = {};\r\n\r\n/* --------------------\r\n * - AdminLTE Options -\r\n * --------------------\r\n * Modify these options to suit your implementation\r\n */\r\n$.AdminLTE.options = {\r\n    //Add slimscroll to navbar menus\r\n    //This requires you to load the slimscroll plugin\r\n    //in every page before app.js\r\n    navbarMenuSlimscroll: true,\r\n    navbarMenuSlimscrollWidth: \"3px\", //The width of the scroll bar\r\n    navbarMenuHeight: \"200px\", //The height of the inner menu\r\n    //Sidebar push menu toggle button selector\r\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\r\n    //Activate sidebar push menu\r\n    sidebarPushMenu: true,\r\n    //Activate sidebar slimscroll if the fixed layout is set (requires SlimScroll Plugin)\r\n    sidebarSlimScroll: true,\r\n    //BoxRefresh Plugin\r\n    enableBoxRefresh: true,\r\n    //Bootstrap.js tooltip\r\n    enableBSToppltip: true,\r\n    BSTooltipSelector: \"[data-toggle='tooltip']\",\r\n    //Enable Fast Click. Fastclick.js creates a more\r\n    //native touch experience with touch devices. If you\r\n    //choose to enable the plugin, make sure you load the script\r\n    //before AdminLTE's app.js\r\n    enableFastclick: true,\r\n    //Box Widget Plugin. Enable this plugin\r\n    //to allow boxes to be collapsed and/or removed\r\n    enableBoxWidget: true,\r\n    //Box Widget plugin options\r\n    boxWidgetOptions: {\r\n        boxWidgetIcons: {\r\n            //The icon that triggers the collapse event\r\n            collapse: 'fa fa-minus',\r\n            //The icon that trigger the opening event\r\n            open: 'fa fa-plus',\r\n            //The icon that triggers the removing event\r\n            remove: 'fa fa-times'\r\n        },\r\n        boxWidgetSelectors: {\r\n            //Remove button selector\r\n            remove: '[data-widget=\"remove\"]',\r\n            //Collapse button selector\r\n            collapse: '[data-widget=\"collapse\"]'\r\n        }\r\n    },\r\n    //Direct Chat plugin options\r\n    directChat: {\r\n        //Enable direct chat by default\r\n        enable: true,\r\n        //The button to open and close the chat contacts pane\r\n        contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\r\n    },\r\n    //Define the set of colors to use globally around the website\r\n    colors: {\r\n        lightBlue: \"#3c8dbc\",\r\n        red: \"#f56954\",\r\n        green: \"#00a65a\",\r\n        aqua: \"#00c0ef\",\r\n        yellow: \"#f39c12\",\r\n        blue: \"#0073b7\",\r\n        navy: \"#001F3F\",\r\n        teal: \"#39CCCC\",\r\n        olive: \"#3D9970\",\r\n        lime: \"#01FF70\",\r\n        orange: \"#FF851B\",\r\n        fuchsia: \"#F012BE\",\r\n        purple: \"#8E24AA\",\r\n        maroon: \"#D81B60\",\r\n        black: \"#222222\",\r\n        gray: \"#d2d6de\"\r\n    },\r\n    //The standard screen sizes that bootstrap uses.\r\n    //If you change these in the variables.less file, change\r\n    //them here too.\r\n    screenSizes: {\r\n        xs: 480,\r\n        sm: 768,\r\n        md: 992,\r\n        lg: 1200\r\n    }\r\n};\r\n\r\n/* ------------------\r\n * - Implementation -\r\n * ------------------\r\n * The next block of code implements AdminLTE's\r\n * functions and plugins as specified by the\r\n * options above.\r\n */\r\n$(function () {\r\n    //Easy access to options\r\n    var o = $.AdminLTE.options;\r\n\r\n    //Set up the object\r\n    _init();\r\n\r\n    //Activate the layout maker\r\n    $.AdminLTE.layout.activate();\r\n\r\n    //Enable sidebar tree view controls\r\n    $.AdminLTE.tree('.sidebar');\r\n\r\n    //Add slimscroll to navbar dropdown\r\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\r\n        $(\".navbar .menu\").slimscroll({\r\n            height: \"200px\",\r\n            alwaysVisible: false,\r\n            size: \"3px\"\r\n        }).css(\"width\", \"100%\");\r\n    }\r\n\r\n    //Activate sidebar push menu\r\n    if (o.sidebarPushMenu) {\r\n        $.AdminLTE.pushMenu(o.sidebarToggleSelector);\r\n    }\r\n\r\n    //Activate Bootstrap tooltip\r\n    if (o.enableBSToppltip) {\r\n        $(o.BSTooltipSelector).tooltip();\r\n    }\r\n\r\n    //Activate box widget\r\n    if (o.enableBoxWidget) {\r\n        $.AdminLTE.boxWidget.activate();\r\n    }\r\n\r\n    //Activate fast click\r\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\r\n        FastClick.attach(document.body);\r\n    }\r\n\r\n    //Activate direct chat widget\r\n    if (o.directChat.enable) {\r\n        $(o.directChat.contactToggleSelector).click(function () {\r\n            var box = $(this).parents('.direct-chat').first();\r\n            box.toggleClass('direct-chat-contacts-open');\r\n        });\r\n    }\r\n\r\n    /*\r\n     * INITIALIZE BUTTON TOGGLE\r\n     * ------------------------\r\n     */\r\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\r\n        var group = $(this);\r\n        $(this).find(\".btn\").click(function (e) {\r\n            group.find(\".btn.active\").removeClass(\"active\");\r\n            $(this).addClass(\"active\");\r\n            e.preventDefault();\r\n        });\r\n\r\n    });\r\n});\r\n\r\n/* ----------------------------------\r\n * - Initialize the AdminLTE Object -\r\n * ----------------------------------\r\n * All AdminLTE functions are implemented below.\r\n */\r\nfunction _init() {\r\n\r\n    /* Layout\r\n     * ======\r\n     * Fixes the layout height in case min-height fails.\r\n     *\r\n     * @type Object\r\n     * @usage $.AdminLTE.layout.activate()\r\n     *        $.AdminLTE.layout.fix()\r\n     *        $.AdminLTE.layout.fixSidebar()\r\n     */\r\n    $.AdminLTE.layout = {\r\n        activate: function () {\r\n            var _this = this;\r\n            _this.fix();\r\n            _this.fixSidebar();\r\n            $(window, \".wrapper\").resize(function () {\r\n                _this.fix();\r\n                _this.fixSidebar();\r\n            });\r\n        },\r\n        fix: function () {\r\n            //Get window height and the wrapper height\r\n            var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\r\n            var window_height = $(window).height();\r\n            var sidebar_height = $(\".sidebar\").height();\r\n            //Set the min-height of the content and sidebar based on the\r\n            //the height of the document.\r\n            if ($(\"body\").hasClass(\"fixed\")) {\r\n                $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\r\n            } else {\r\n                if (window_height >= sidebar_height) {\r\n                    $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\r\n                } else {\r\n                    $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\r\n                }\r\n            }\r\n        },\r\n        fixSidebar: function () {\r\n            //Make sure the body tag has the .fixed class\r\n            if (!$(\"body\").hasClass(\"fixed\")) {\r\n                if (typeof $.fn.slimScroll != 'undefined') {\r\n                    $(\".sidebar\").slimScroll({destroy: true}).height(\"auto\");\r\n                }\r\n                return;\r\n            } else if (typeof $.fn.slimScroll == 'undefined' && console) {\r\n                console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\r\n            }\r\n            //Enable slimscroll for fixed layout\r\n            if ($.AdminLTE.options.sidebarSlimScroll) {\r\n                if (typeof $.fn.slimScroll != 'undefined') {\r\n                    //Distroy if it exists\r\n                    $(\".sidebar\").slimScroll({destroy: true}).height(\"auto\");\r\n                    //Add slimscroll\r\n                    $(\".sidebar\").slimscroll({\r\n                        height: ($(window).height() - $(\".main-header\").height()) + \"px\",\r\n                        color: \"rgba(0,0,0,0.2)\",\r\n                        size: \"3px\"\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /* PushMenu()\r\n     * ==========\r\n     * Adds the push menu functionality to the sidebar.\r\n     *\r\n     * @type Function\r\n     * @usage: $.AdminLTE.pushMenu(\"[data-toggle='offcanvas']\")\r\n     */\r\n    $.AdminLTE.pushMenu = function (toggleBtn) {\r\n        //Get the screen sizes\r\n        var screenSizes = this.options.screenSizes;\r\n\r\n        //Enable sidebar toggle\r\n        $(toggleBtn).click(function (e) {\r\n            e.preventDefault();\r\n\r\n            //Enable sidebar push menu\r\n            if ($(window).width() > (screenSizes.sm - 1)) {\r\n                $(\"body\").toggleClass('sidebar-collapse');\r\n            }\r\n            //Handle sidebar push menu for small screens\r\n            else {\r\n                if ($(\"body\").hasClass('sidebar-open')) {\r\n                    $(\"body\").removeClass('sidebar-open');\r\n                    $(\"body\").removeClass('sidebar-collapse')\r\n                } else {\r\n                    $(\"body\").addClass('sidebar-open');\r\n                }\r\n            }\r\n        });\r\n\r\n        $(\".content-wrapper\").click(function () {\r\n            //Enable hide menu when clicking on the content-wrapper on small screens\r\n            if ($(window).width() <= (screenSizes.sm - 1) && $(\"body\").hasClass(\"sidebar-open\")) {\r\n                $(\"body\").removeClass('sidebar-open');\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    /* Tree()\r\n     * ======\r\n     * Converts the sidebar into a multilevel\r\n     * tree view menu.\r\n     *\r\n     * @type Function\r\n     * @Usage: $.AdminLTE.tree('.sidebar')\r\n     */\r\n    $.AdminLTE.tree = function (menu) {\r\n        var _this = this;\r\n\r\n        $(\"li a\", $(menu)).click(function (e) {\r\n            //Get the clicked link and the next element\r\n            var $this = $(this);\r\n            var checkElement = $this.next();\r\n\r\n            //Check if the next element is a menu and is visible\r\n            if ((checkElement.is('.treeview-menu')) && (checkElement.is(':visible'))) {\r\n                //Close the menu\r\n                checkElement.slideUp('normal', function () {\r\n                    checkElement.removeClass('menu-open');\r\n                    //Fix the layout in case the sidebar stretches over the height of the window\r\n                    //_this.layout.fix();\r\n                });\r\n                checkElement.parent(\"li\").removeClass(\"active\");\r\n            }\r\n            //If the menu is not visible\r\n            else if ((checkElement.is('.treeview-menu')) && (!checkElement.is(':visible'))) {\r\n                //Get the parent menu\r\n                var parent = $this.parents('ul').first();\r\n                //Close all open menus within the parent\r\n                var ul = parent.find('ul:visible').slideUp('normal');\r\n                //Remove the menu-open class from the parent\r\n                ul.removeClass('menu-open');\r\n                //Get the parent li\r\n                var parent_li = $this.parent(\"li\");\r\n\r\n                //Open the target menu and add the menu-open class\r\n                checkElement.slideDown('normal', function () {\r\n                    //Add the class active to the parent li\r\n                    checkElement.addClass('menu-open');\r\n                    parent.find('li.active').removeClass('active');\r\n                    parent_li.addClass('active');\r\n                    //Fix the layout in case the sidebar stretches over the height of the window\r\n                    _this.layout.fix();\r\n                });\r\n            }\r\n            //if this isn't a link, prevent the page from being redirected\r\n            if (checkElement.is('.treeview-menu')) {\r\n                e.preventDefault();\r\n            }\r\n        });\r\n    };\r\n\r\n    /* BoxWidget\r\n     * =========\r\n     * BoxWidget is plugin to handle collapsing and\r\n     * removing boxes from the screen.\r\n     *\r\n     * @type Object\r\n     * @usage $.AdminLTE.boxWidget.activate()\r\n     *        Set all of your option in the main $.AdminLTE.options object\r\n     */\r\n    $.AdminLTE.boxWidget = {\r\n        activate: function () {\r\n            var o = $.AdminLTE.options;\r\n            var _this = this;\r\n            //Listen for collapse event triggers\r\n            $(o.boxWidgetOptions.boxWidgetSelectors.collapse).click(function (e) {\r\n                e.preventDefault();\r\n                _this.collapse($(this));\r\n            });\r\n\r\n            //Listen for remove event triggers\r\n            $(o.boxWidgetOptions.boxWidgetSelectors.remove).click(function (e) {\r\n                e.preventDefault();\r\n                _this.remove($(this));\r\n            });\r\n        },\r\n        collapse: function (element) {\r\n            //Find the box parent\r\n            var box = element.parents(\".box\").first();\r\n            //Find the body and the footer\r\n            var bf = box.find(\".box-body, .box-footer\");\r\n            if (!box.hasClass(\"collapsed-box\")) {\r\n                //Convert minus into plus\r\n                element.children(\".fa-minus\").removeClass(\"fa-minus\").addClass(\"fa-plus\");\r\n                bf.slideUp(300, function () {\r\n                    box.addClass(\"collapsed-box\");\r\n                });\r\n            } else {\r\n                //Convert plus into minus\r\n                element.children(\".fa-plus\").removeClass(\"fa-plus\").addClass(\"fa-minus\");\r\n                bf.slideDown(300, function () {\r\n                    box.removeClass(\"collapsed-box\");\r\n                });\r\n            }\r\n        },\r\n        remove: function (element) {\r\n            //Find the box parent\r\n            var box = element.parents(\".box\").first();\r\n            box.slideUp();\r\n        },\r\n        options: $.AdminLTE.options.boxWidgetOptions\r\n    };\r\n}\r\n\r\n/* ------------------\r\n * - Custom Plugins -\r\n * ------------------\r\n * All custom plugins are defined below.\r\n */\r\n\r\n/*\r\n * BOX REFRESH BUTTON\r\n * ------------------\r\n * This is a custom plugin to use with the compenet BOX. It allows you to add\r\n * a refresh button to the box. It converts the box's state to a loading state.\r\n *\r\n * @type plugin\r\n * @usage $(\"#box-widget\").boxRefresh( options );\r\n */\r\n(function ($) {\r\n\r\n    $.fn.boxRefresh = function (options) {\r\n\r\n        // Render options\r\n        var settings = $.extend({\r\n            //Refressh button selector\r\n            trigger: \".refresh-btn\",\r\n            //File source to be loaded (e.g: ajax/src.php)\r\n            source: \"\",\r\n            //Callbacks\r\n            onLoadStart: function (box) {\r\n            }, //Right after the button has been clicked\r\n            onLoadDone: function (box) {\r\n            } //When the source has been loaded\r\n\r\n        }, options);\r\n\r\n        //The overlay\r\n        var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\r\n\r\n        return this.each(function () {\r\n            //if a source is specified\r\n            if (settings.source === \"\") {\r\n                if (console) {\r\n                    console.log(\"Please specify a source first - boxRefresh()\");\r\n                }\r\n                return;\r\n            }\r\n            //the box\r\n            var box = $(this);\r\n            //the button\r\n            var rBtn = box.find(settings.trigger).first();\r\n\r\n            //On trigger click\r\n            rBtn.click(function (e) {\r\n                e.preventDefault();\r\n                //Add loading overlay\r\n                start(box);\r\n\r\n                //Perform ajax call\r\n                box.find(\".box-body\").load(settings.source, function () {\r\n                    done(box);\r\n                });\r\n            });\r\n        });\r\n\r\n        function start(box) {\r\n            //Add overlay and loading img\r\n            box.append(overlay);\r\n\r\n            settings.onLoadStart.call(box);\r\n        }\r\n\r\n        function done(box) {\r\n            //Remove overlay and loading img\r\n            box.find(overlay).remove();\r\n\r\n            settings.onLoadDone.call(box);\r\n        }\r\n\r\n    };\r\n\r\n})(jQuery);\r\n\r\n/*\r\n * TODO LIST CUSTOM PLUGIN\r\n * -----------------------\r\n * This plugin depends on iCheck plugin for checkbox and radio inputs\r\n *\r\n * @type plugin\r\n * @usage $(\"#todo-widget\").todolist( options );\r\n */\r\n(function ($) {\r\n\r\n    $.fn.todolist = function (options) {\r\n        // Render options\r\n        var settings = $.extend({\r\n            //When the user checks the input\r\n            onCheck: function (ele) {\r\n            },\r\n            //When the user unchecks the input\r\n            onUncheck: function (ele) {\r\n            }\r\n        }, options);\r\n\r\n        return this.each(function () {\r\n\r\n            if (typeof $.fn.iCheck != 'undefined') {\r\n                $('input', this).on('ifChecked', function (event) {\r\n                    var ele = $(this).parents(\"li\").first();\r\n                    ele.toggleClass(\"done\");\r\n                    settings.onCheck.call(ele);\r\n                });\r\n\r\n                $('input', this).on('ifUnchecked', function (event) {\r\n                    var ele = $(this).parents(\"li\").first();\r\n                    ele.toggleClass(\"done\");\r\n                    settings.onUncheck.call(ele);\r\n                });\r\n            } else {\r\n                $('input', this).on('change', function (event) {\r\n                    var ele = $(this).parents(\"li\").first();\r\n                    ele.toggleClass(\"done\");\r\n                    settings.onCheck.call(ele);\r\n                });\r\n            }\r\n        });\r\n    };\r\n}(jQuery));\r\n\r\nfunction modalGroupQuestionChangeSequence( group_question_id) {\r\n    $(\"#group_question_id\").val(group_question_id);\r\n    $(\"#modalGroupQuestionChangeSequence\").modal('toggle');\r\n}\r\n\r\n\r\n","$(document).ready(function () {\r\n\r\n    function deleteAggregatedExamToCourse(course_id, exam_id) {\r\n        console.log('click ok');\r\n\r\n        $.ajax({\r\n            type: \"DELETE\",\r\n            url: '/admin/courses/remove-aggregate-course/' + course_id + '/' + exam_id,\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                //Recuperando a lista de Exams associados e atualizando a view\r\n                getExamsAggregatedInCourse(course_id);\r\n            }\r\n        });\r\n    }\r\n\r\n    add_edit_course_questions();\r\n});\r\nif ($(\"#course\").length > 0) {\r\n    add_course_teachers();\r\n    add_course_material();\r\n    $(\"#dynamic-flash\").css(\"transition\", \"opacity 3s ease-in-out\");\r\n    $(\"#dynamic-flash\").css(\"-moz-transition\", \"opacity 3s ease-in-out\");\r\n    $(\"#dynamic-flash\").css(\"-webkit-transition\", \"opacity 3s ease-in-out\");\r\n    $(\"#dynamic-flash\").css(\"-o-transition\", \"opacity 3s ease-in-out\");\r\n}\r\n\r\n\r\n\r\nfunction add_course_material() {\r\n    $(\"#add-course-material\").on('click', function () {\r\n\r\n        $(\"#course-material-form\").show();\r\n    });\r\n    remove_course_material();\r\n    save_course_material();\r\n}\r\n\r\nfunction add_course_teachers() {\r\n\r\n    $(\".remove-course-teacher\").click(function () {\r\n\r\n        $(this).parent().parent().css(\"display\", \"none\");\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/admin/courses/remove-course-teacher\",\r\n            data: {\r\n                \"course\": $(\"#course_id\").val(),\r\n                \"teacher\": $(this).parent().parent().find(\".course-teachers-select\").val()\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                console.log($(this).parent().parent());\r\n                $(this).parent().parent().remove();\r\n                flash_success(\"Professor excluído com sucesso!\");\r\n            }\r\n\r\n        });\r\n    });\r\n    $(\"#calculate-percentage-teacher\").click(function () {\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/admin/courses/totalizeTeachers\",\r\n            data: {\r\n                \"course\": $(\"#course_id\").val()\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n                $(\"#course-teachers\").html(data);\r\n                //$('#add-videos-' + lesson_id).html(data);\r\n                //$('#add-videos-'+ selectedLesson).html(data);\r\n                flash_success(\"Totalização concluida\");\r\n            }\r\n\r\n        });\r\n    });\r\n    $(\"#save-course-teachers\").click(function () {\r\n        var teachers_map = {};\r\n        var total_percentage = 0;\r\n        $(\"[name |='course-teacher-name']\").each(function (index) {\r\n            var teacher_id = $(this).val();\r\n            var teacher_percentage = $(this).parent().parent().find(\".course-teacher-percentage\").val();\r\n            teacher_percentage = teacher_percentage.replace(',', '.');\r\n            total_percentage += +teacher_percentage;\r\n            teachers_map[teacher_id] = teacher_percentage;\r\n        });\r\n        if (total_percentage > 100) {\r\n            flash_danger(\"Soma das porcentagens superior a 100%\");\r\n            return;\r\n        }\r\n\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/admin/courses/updatecourseteachers\",\r\n            data: {\"teachers\": teachers_map,\r\n                \"course\": $(\"#course_id\").val()\r\n\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n                //$('#add-videos-' + lesson_id).html(data);\r\n                //$('#add-videos-'+ selectedLesson).html(data);\r\n                flash_success(\"Professores salvos com sucesso\");\r\n            }\r\n\r\n        });\r\n    });\r\n    $(\".add-course-teacher\").off(\"click\").on(\"click\", function () {\r\n        var newFormTeachers;\r\n        var sizeDivsTeachers;\r\n        var newFieldTeachers;\r\n        var i = 0;\r\n        // newFormTeachers = $(this).closest('.form-teachers').clone(true);\r\n\r\n\r\n        newFormTeachers = $('.form-course-teachers').last().clone(true);\r\n        console.log(newFormTeachers);\r\n        $('.form-course-teachers').last().after(newFormTeachers);\r\n        sizeDivsTeachers = $('#course-teachers-fields').children.length + i;\r\n        newFieldTeachers = $('.form-course-teachers').last();\r\n        $('[name|=\"course-teacher-name\"]').last().attr('name', 'course-teacher-name-' + sizeDivsTeachers);\r\n        $('[name|=\"course-teacher-name\"]').last().attr('id', 'course-teacher-name-' + sizeDivsTeachers);\r\n        newFieldTeachers.attr('name', 'course-teachers-name-' + sizeDivsTeachers);\r\n        newFieldTeachers.val('');\r\n        $(\"label[for=name]\").last().text('Professor ' + sizeDivsTeachers);\r\n        i++;\r\n    });\r\n}\r\n\r\nfunction add_module_edit() {\r\n    $(\".edit-module\").click(function () {\r\n\r\n        if (!$(this).parent().hasClass(\"selected\")) {\r\n            $(this).parent().click();\r\n        }\r\n        var target_id = $(this).data(\"target-id\");\r\n        var checkExist = setInterval(function () {\r\n\r\n\r\n            if ($(\"#lessons\").data(\"selected-module\") == target_id) {\r\n                $(\"#lessons-tab\").click();\r\n                clearInterval(checkExist);\r\n            }\r\n        }, 100);\r\n    });\r\n}\r\n\r\nfunction createModuleTable() {\r\n    $(\".nav-tabs\").on(\"click\", \"a\", function (e) {\r\n        e.preventDefault();\r\n        $(this).tab('show');\r\n    })\r\n            .on(\"click\", \"span\", function () {\r\n                var anchor = $(this).siblings('a');\r\n                $(anchor.attr('href')).remove();\r\n                $(this).parent().remove();\r\n                $(\".nav-tabs li\").children('a').first().click();\r\n            });\r\n    var post = {};\r\n    post.name = $(this).closest('.form-input').children('.form-control').val();\r\n    var table = $('#module-table').DataTable({\r\n        \"initComplete\": function (settings, json) {\r\n            add_module_edit();\r\n            add_delete_module();\r\n        },\r\n        \"processing\": true,\r\n        \"columnDefs\": [\r\n            {\"visible\": false, \"targets\": [0, 2]}\r\n        ],\r\n        \"ajax\": {\r\n            \"url\": \"/admin/courses/\" + $(\"#course_id\").val() + \"/datatables\",\r\n            \"type\": \"POST\",\r\n            \"headers\": {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n        },\r\n        \"serverSide\": true,\r\n        language: {\r\n            url: '//cdn.datatables.net/plug-ins/1.10.9/i18n/Portuguese-Brasil.json'\r\n        },\r\n    });\r\n    $('.add-module').click(function (e) {\r\n        e.preventDefault();\r\n        var post = {};\r\n        //post.name = $(this).closest('.form-input').children('.form-control').val();\r\n        post.name = $(this).parent().find('input').val();\r\n        post.course_id = $(\"#course_id\").val();\r\n        var parent_div = $(this).parent();\r\n        var newFormGroup = $(this).closest('.form-group').clone(true);\r\n        $('#fields .form-group').last().after(newFormGroup);\r\n        newField = $('#fields .form-control').last();\r\n        newField.attr('name', 'module-name');\r\n        newField.val('');\r\n        newField.focus();\r\n        $(\"label[for=name]\").last().text('Nova disciplina');\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/modules',\r\n            data: {name: post.name,\r\n                course_id: post.course_id\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                try {\r\n                    var newRow = $.parseJSON(data);\r\n                    parent_div.remove();\r\n                    table.draw(false);\r\n                    add_module_edit();\r\n                    add_delete_module();\r\n                } catch (e) {\r\n                    if (\"error\" in data) {\r\n                        flash_danger(data[\"error\"]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    $('.event_aggregate-saap').click(function () {\r\n        var courseID = $('#aggregate-saap_li').attr('course-id');\r\n        getExamsAggregatedInCourse(courseID);\r\n    });\r\n\r\n    $('.aggregate-saap-to-course').click(function (e) {\r\n        e.preventDefault();\r\n        var post = {};\r\n        //post.name = $(this).closest('.form-input').children('.form-control').val();\r\n\r\n        post.course_id_bought = $(\"#course_id\").val();\r\n        post.exam_id_extra = $(\"#exam_id option:selected\").val();\r\n        post.exam_title = $(\"#exam_id option:selected\").text();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/aggregate-course',\r\n            data: {\r\n                course_id_bought: post.course_id_bought,\r\n                exam_id_extra: post.exam_id_extra,\r\n                exam_title: post.exam_title\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                try {\r\n                    var btnExcluir = '<i class=\"delete-aggregation-exam-of-course fa fa-times\" onClick=\"deleteAggregatedExamToCourse(' + post.course_id_bought + ',' + post.exam_id_extra + ')\" style=\"color:red; cursor: pointer\"></i>';\r\n                    $('#aggregated-saap-table tr:last').after('<tr><td>' + post.exam_title + '</td><td>' + btnExcluir + '</td></tr>');\r\n                } catch (e) {\r\n                    if (\"error\" in data) {\r\n                        flash_danger(data[\"error\"]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n    function getExamsAggregatedInCourse(_course_id) {\r\n\r\n        $.ajax({\r\n            type: \"GET\",\r\n            url: '/admin/courses/aggregate-course/' + _course_id,\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                var info = JSON.parse(data);\r\n                try {\r\n                    for (i = 0; i < info.length; i++) {\r\n                        var btnExcluir = '<i class=\"delete-aggregation-exam-of-course fa fa-times\" onClick=\"deleteAggregatedExamToCourse(' + _course_id + ',' + info[i].id + ')\" style=\"color:red; cursor: pointer\"></i>';\r\n                        $('#aggregated-saap-table tr:last').after('<tr><td>' + info[i].title + '</td><td>' + btnExcluir + '</td></tr>');\r\n                    }\r\n                } catch (e) {\r\n                    if (\"error\" in data) {\r\n                        flash_danger(data[\"error\"]);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    $(\"[name|='module-name']\").on('keypress', function (e) {\r\n        if (e.which == 13) {\r\n            e.preventDefault();\r\n            $(this).parent().next('.add-module').click();\r\n        }\r\n\r\n    });\r\n    $(\"[name|='lesson-group']\").children().on('keypress', function (e) {\r\n        if (e.which == 13) {\r\n            e.preventDefault();\r\n            $(this).next('.add-lesson').click();\r\n        }\r\n\r\n    });\r\n    var tableLessons;\r\n    var selectedModule;\r\n    $('#module-table tbody').on('click', 'tr', function () {\r\n        if ($(this).hasClass('selected')) {\r\n            $(this).removeClass('selected');\r\n        }\r\n        else {\r\n\r\n\r\n            $(\"#lessons-tab\").not(\"[href='#lessons']\").attr(\"data-toggle\", \"tab\");\r\n            $(\"#lessons-tab\").not(\"[href='#lessons']\").attr(\"href\", \"#lessons\");\r\n            $(\"#lessons-tab\").not(\"[class='']\").parent().attr(\"class\", \"\");\r\n            table.$('tr.selected').removeClass('selected');\r\n            if (tableLessons != null) {\r\n                tableLessons.destroy();\r\n            }\r\n            $(this).addClass('selected');\r\n            $(\".dynamic-tab\").remove();\r\n            selectedModule = table.row(this).data()[0];\r\n            add_new_tab('edit-module', table.row(this).data()[1], \"Edição \", \"#edit-module\");\r\n            //TODO: colocar conteúdo aqui\r\n\r\n            add_tab_content('/admin/courses/editmodule', {module_id: table.row(this).data()[0]}, 'edit-module', function () {\r\n                $(\"#save-module\").off('click').on('click', function () {\r\n                    post_form(selectedModule, \"edit-module\", 'updatemodule');\r\n                    $(\"#module-table\").DataTable().ajax.reload(function () {\r\n                        add_delete_module();\r\n                    });\r\n                    $(\"#module-table\").on('draw.dt', function () {\r\n                        add_delete_module();\r\n                    });\r\n                });\r\n            });\r\n            tableLessons = $('#lessons-table').DataTable({\r\n                \"processing\": true,\r\n                \"columnDefs\": [\r\n                    {\"visible\": false, \"targets\": 0}\r\n                ],\r\n                \"initComplete\": function (settings, json) {\r\n                    console.log(\"selected\" + selectedModule);\r\n                    add_delete_lesson();\r\n                    $(\"#lessons-table\").on('draw.dt', function () {\r\n                        console.log('enter');\r\n                        add_delete_lesson();\r\n                        add_edit_questions();\r\n                    });\r\n                    add_edit_questions();\r\n                    $('.tags-select').select2({\r\n                        tags: true,\r\n                        minimumInputLength: 3,\r\n                        ajax: {\r\n                            type: 'POST',\r\n                            url: '/admin/tags/select',\r\n                            dataType: 'json',\r\n                            headers: {\r\n                                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                            },\r\n                            data: function (params) {\r\n                                return {\r\n                                    term: params.term\r\n                                };\r\n                            },\r\n                            processResults: function (data) {\r\n                                return {results: data};\r\n                            }\r\n                        }\r\n                    });\r\n                },\r\n                \"ajax\": {\r\n                    \"url\": \"/admin/courses/\" + selectedModule + \"/lessons\",\r\n                    \"type\": \"POST\",\r\n                    \"headers\": {\r\n                        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                    },\r\n                },\r\n                \"serverSide\": true,\r\n                language: {\r\n                    url: '//cdn.datatables.net/plug-ins/1.10.9/i18n/Portuguese-Brasil.json'\r\n                }\r\n            });\r\n            update_sequence(\"lesson-sequence\", selectedModule);\r\n            $(\"#lessons\").data(\"selected-module\", selectedModule);\r\n            $('#lessons-table tbody').dblclick(function\r\n                    () {\r\n                $(\".nav-tabs li\").children('a').last().click();\r\n            })\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    });\r\n    var selectedLesson;\r\n    $(\"#lessons-table\").on('click', 'tr', function () {\r\n\r\n        if ($(this).hasClass('selected')) {\r\n            $(this).removeClass('selected');\r\n        }\r\n        else {\r\n            tableLessons.$('tr.selected').removeClass('selected');\r\n            $(\".dynamic-tab\").remove();\r\n            $(this).addClass('selected');\r\n            selectedLesson = tableLessons.row(this).data()[0];\r\n            var nextTab = $('.nav-tabs li').size() + 1;\r\n            var lesson_name = tableLessons.row(this).data()[1];\r\n            if (lesson_name == null || lesson_name == '') {\r\n                lesson_name = tableLessons.row(this).data()[2];\r\n            }\r\n\r\n\r\n            add_new_tab('edit-lesson', lesson_name, \"Edição \", \"#edit-lesson\");\r\n            add_tab_content('/admin/courses/editlessons', {lesson_id: tableLessons.row(this).data()[0]}, 'edit-lesson', function () {\r\n                $(\"#save-lesson\").off('click').on('click', function () {\r\n                    post_form(selectedLesson, \"edit-lesson\", 'updatelesson');\r\n                    $(\"#lessons-table\").DataTable().ajax.reload(function () {\r\n                        add_delete_lesson();\r\n                        add_edit_questions();\r\n                    });\r\n                    $(\"#lessons-table\").on('draw.dt', function () {\r\n                        add_delete_lesson();\r\n                        add_edit_questions();\r\n                    });\r\n                });\r\n            });\r\n            nextTab++;\r\n            add_new_tab('video', lesson_name, 'Vídeos', \"#add-videos\");\r\n            add_tab_content('/admin/courses/editvideos', {lesson_id: tableLessons.row(this).data()[0]}, 'add-videos', function () {\r\n\r\n                save_videos(selectedLesson, $(\"#save-videos\"));\r\n                $(\".content-preview\").click(function () {\r\n                    $(\"#vimeoPreviewModal\").modal('toggle');\r\n                    var content = $(this).parent().parent().find(\".content-url\").val();\r\n                    if (content.startsWith('vimeo:')) {\r\n                        content = 'https://player.vimeo.com/video/' + content.substring(6);\r\n                    }\r\n\r\n                    $(\"#vimeo-preview\").attr('src', content);\r\n                });\r\n            });\r\n            nextTab++;\r\n            add_teachers(selectedLesson, lesson_name);\r\n            nextTab++;\r\n            add_material(selectedLesson, lesson_name);\r\n        }\r\n    });\r\n    $('.add-lesson').click(function (e) {\r\n        e.preventDefault();\r\n        var module_id = selectedModule;\r\n        var name_input = $(this).parent().parent().find(\"[name|='lesson-name']\").val();\r\n        var sequence_input = $(this).parent().parent().find(\"[name|='lesson-sequence']\").val();\r\n        var duration_input = $(this).parent().parent().find(\"[name|='lesson-name']\").val();\r\n        var parent_div = $(this).parent().parent();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/addlessons',\r\n            data: {module_id: module_id,\r\n                title: name_input,\r\n                sequence: sequence_input,\r\n                duration: duration_input\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n\r\n                var new_div = parent_div.clone(true);\r\n                clear_form_elements(new_div);\r\n                var last_div = $(\".lesson-fields\").last();\r\n                console.log(\"[name='\" + new_div.attr('name') + \"']\");\r\n                console.log(last_div.find(\"[name='lesson-sequence']\").val());\r\n                console.log(last_div);\r\n                new_div.find(\"lesson-box [name|='lesson-sequence']\").val(last_div.find(\"[name='lesson-sequence']\").val());\r\n                last_div.after(new_div);\r\n                parent_div.remove();\r\n                var newRow = $.parseJSON(data);\r\n                tableLessons.draw(false);\r\n            }\r\n        });\r\n    });\r\n    $(\"#unblock-course\").on('click', function () {\r\n        verify_unblock();\r\n    });\r\n    // create_new_field_dynamic($(\"[name|='module-name']\"),'module','Atividade',2);\r\n}\r\n\r\n\r\n\r\nfunction add_new_tab(id, name, type, link) {\r\n    var tab_id = '#' + id + \"-tab\";\r\n    if ($(tab_id).length <= 0)\r\n        $('<li><a id=\"' + tab_id + '\" href=\"' + link + '\" class=\"dynamic-tab\" data-toggle=\"tab\">' + type + ' de ' + name + '</a></li>').appendTo('.nav-tabs');\r\n    else {\r\n        $(tab_id).attr(\"href\", link);\r\n        $(tab_id).text(type + 'de ' + name);\r\n    }\r\n\r\n}\r\n\r\nfunction add_tab_content(url, parameter_data, id, callback) {\r\n    var content_id = \"#\" + id;\r\n    console.log('content_id:' + content_id);\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: url,\r\n        data: parameter_data,\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n        success: function (data) {\r\n\r\n            if ($(content_id).length <= 0) {\r\n\r\n                var $appended = $('<div class=\"tab-pane\" id=\"' + id + '\">' + data + '</div>').appendTo('.tab-content');\r\n                remove_changed_attribute($appended.attr('id'));\r\n                change_watcher($appended.attr('id'));\r\n            } else {\r\n                $(content_id).html(data);\r\n                remove_changed_attribute(content_id);\r\n                change_watcher(content_id);\r\n            }\r\n\r\n            callback();\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction add_delete_lesson() {\r\n    $(\".delete-lesson\").off('click').click(function () {\r\n\r\n        if (confirm(\"Tem certeza que deseja excluir esse item?\")) {\r\n            $.ajax({\r\n                \"type\": \"POST\",\r\n                url: '/admin/courses/remove-lesson',\r\n                data: {lesson: $(this).data(\"target-id\")\r\n                },\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                cache: false,\r\n                success: function (data) {\r\n                    $(\"#lessons-table\").DataTable().ajax.reload(function () {\r\n\r\n                        add_delete_lesson();\r\n                        add_edit_questions();\r\n                    });\r\n                    $(\"#lessons-table\").on('draw.dt', function () {\r\n                        add_delete_lesson();\r\n                        add_edit_questions();\r\n                    });\r\n                    if (data == 'true') {\r\n                        flash_success('Aula excluída com sucesso!')\r\n                    } else if (data == 'full') {\r\n                        flash_danger(\"Há alunos cursando essa aula.\")\r\n                    } else {\r\n                        flash_danger(\"Não foi possível excluir a aula\");\r\n                    }\r\n                }\r\n            });\r\n            // $(\"#module-table\").\r\n\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction add_course_edit_questions() {\r\n    $(\".create-course-questions\").click(function () {\r\n        $(\"courseGroupSubjectModal\").find(\"*\").addBack().off();\r\n        $.ajax({\r\n            url: \"/admin/courses/create-group\",\r\n            type: \"POST\",\r\n            data: {\r\n                'course': $(this).data('')\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction add_edit_questions() {\r\n    $(\".create-questions\").click(function () {\r\n\r\n        $(\"#groupSubjectModal\").find(\"*\").addBack().off();\r\n        $.ajax({\r\n            url: \"/admin/courses/create-group\",\r\n            type: \"POST\",\r\n            data: {\r\n                'lesson': $(this).data(\"target-id\")\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n                $(\"#groupSubjectModal\").html(data);\r\n                $(\"#groupSubjectModal\").modal('toggle');\r\n                $(\"#groupSubjectModal\").on('shown.bs.modal', function () {\r\n\r\n                    createSelect(\"subject\", undefined, $(\"#groupSubjectModal\"));\r\n                    add_save_relation_event();\r\n                    $(\"#add-subject\").off('click').click(function () {\r\n                        $(\".subject-select\").select2(\"destroy\").end();\r\n                        $(\".subject-question-row\").last().after($(\".subject-question-row\").first().clone());\r\n                        $(\".subject-select\").last().val(\"\");\r\n                        createSelect(\"subject\", undefined, $(\"#groupSubjectModal\"));\r\n                        $(\".delete-relation\").find(\"*\").addBack().off();\r\n                        $(\".delete-relation\").click(function () {\r\n                            $(this).parent().parent().remove();\r\n                        });\r\n                    });\r\n                    $(\".delete-relation\").click(function () {\r\n                        $(this).parent().parent().remove();\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction add_save_relation_event() {\r\n    $(\"#save-relation\").click(function () {\r\n\r\n        $.ajax({\r\n            url: \"/admin/courses/save-lesson-group\",\r\n            type: \"POST\",\r\n            data: {\r\n                fields: $(\"#group-form\").serialize(),\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                $(\"#groupSubjectLabel\").css('display', 'none');\r\n                $(\"#savedGroupLabel\").css('display', 'block');\r\n                setTimeout(function () {\r\n                    $(\"#groupSubjectLabel\").css('display', 'block');\r\n                    $(\"#savedGroupLabel\").css('display', 'none');\r\n                }, 3000);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction add_edit_course_questions() {\r\n    createSelect(\"subject-course\", undefined);\r\n    add_save_course_relation_event();\r\n    $(\"#add-course-subject\").off('click').click(function () {\r\n        $(\".subject-course-select\").select2(\"destroy\").end();\r\n        $(\".subject-course-question-row\").last().after($(\".subject-course-question-row\").first().clone());\r\n        $(\".subject-course-select\").last().val(\"\");\r\n        $(\"[name='question_count[]']\").last().val(0);\r\n        createSelect(\"subject-course\", undefined);\r\n        $(\".delete-course-relation\").find(\"*\").addBack().off();\r\n        $(\".delete-course-relation\").click(function () {\r\n            $(this).parent().parent().remove();\r\n        });\r\n    });\r\n    $(\".delete-course-relation\").click(function () {\r\n        $(this).parent().parent().remove();\r\n    });\r\n    $(\".create-course-questions\").click(function () {\r\n\r\n        $(\"#courseQuestionModal\").find(\"*\").addBack().off();\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction add_save_course_relation_event() {\r\n    $(\"#save-course-relation\").click(function () {\r\n        if ($(\"#course-group-duration\").val() == \"\") {\r\n            flash_danger(\"É obrigatório informar a duração da avaliação!\")\r\n        } else if (isNaN($(\"#course-group-duration\").val())) {\r\n            flash_danger(\"Duração inválida! Informe um número válido no campo\");\r\n        } else {\r\n\r\n            $(this).text('Salvando...');\r\n            if ($(\"#group-course-form\").data(\"saved\") == false) {\r\n                console.log($(\"#save-course-relation\").data(\"target-id\"));\r\n                $.ajax({\r\n                    url: \"/admin/courses/create-course-group\",\r\n                    type: \"POST\",\r\n                    data: {\r\n                        'course': $(\"#save-course-relation\").data(\"target\")\r\n                    },\r\n                    headers: {\r\n                        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                    },\r\n                    cache: false,\r\n                    success: function (data) {\r\n\r\n                        $.ajax({\r\n                            url: \"/admin/courses/save-course-group\",\r\n                            type: \"POST\",\r\n                            data: {\r\n                                fields: $(\"#group-course-form\").serialize(),\r\n                                'course-group-id': data,\r\n                            },\r\n                            headers: {\r\n                                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                            },\r\n                            cache: false,\r\n                            success: function (data) {\r\n                                $(\"#groupCourseSubjectLabel\").css('display', 'none');\r\n                                $(\"#savedGroupCourseLabel\").css('display', 'block');\r\n                                setTimeout(function () {\r\n                                    $(\"#groupCourseSubjectLabel\").css('display', 'block');\r\n                                    $(\"#savedGroupCourseLabel\").css('display', 'none');\r\n                                    flash_success('Grupo foi criado com sucesso!');\r\n                                    $(\"#save-course-relation\").text('Salvar');\r\n                                }, 3000);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                $.ajax({\r\n                    url: \"/admin/courses/save-course-group\",\r\n                    type: \"POST\",\r\n                    data: {\r\n                        fields: $(\"#group-course-form\").serialize(),\r\n                    },\r\n                    headers: {\r\n                        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                    },\r\n                    cache: false,\r\n                    success: function (data) {\r\n                        $(\"#groupCourseSubjectLabel\").css('display', 'none');\r\n                        $(\"#savedGroupCourseLabel\").css('display', 'block');\r\n                        setTimeout(function () {\r\n                            $(\"#groupCourseSubjectLabel\").css('display', 'block');\r\n                            $(\"#savedGroupCourseLabel\").css('display', 'none');\r\n                            flash_success('Grupo foi atualizado com sucesso!');\r\n                            $(\"#save-course-relation\").text('Salvar');\r\n                        }, 3000);\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction remove_material() {\r\n    $(\".remove-material\").on('click', function () {\r\n        var removed_item = $(this);\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/remove-material',\r\n            data: {content: $(this).data('content')\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n                $(removed_item).parent().remove();\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction add_material(selectedLesson, lesson_name) {\r\n\r\n\r\n    add_new_tab('material', lesson_name, \"Materiais \", \"#add-material\");\r\n    add_tab_content('/admin/courses/material', {lesson_id: selectedLesson}, 'add-material', function () {\r\n\r\n        $(\"#add-material\").on('click', function () {\r\n\r\n            $(\"#material-form\").show();\r\n        });\r\n        remove_material();\r\n        save_material();\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction save_material() {\r\n\r\n\r\n    console.log('enter the submit');\r\n    $(\"#material-form\").submit(function (event) {\r\n        event.preventDefault();\r\n        var formData = new FormData(this);\r\n        $.ajax({\r\n            url: '/admin/courses/savematerial',\r\n            type: 'POST',\r\n            data: formData,\r\n            success: function (data) {\r\n                alert(data)\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (result) {\r\n\r\n                var li;\r\n                if (result[\"extension\"] == '.pdf') {\r\n                    li = '<li class=\"fa fa-file-pdf-o\">';\r\n                } else if (result[\"extension\"] == '.pps') {\r\n                    li = '<li class=\"fa fa-file-powerpoint-o\" >';\r\n                } else if (result[\"extension\"] == '.doc' || result[\"extension\"] == '.docx') {\r\n                    li = '<li class=\"fa fa-file-word-o\" >';\r\n                } else if (result[\"extension\"] == '.png' || result[\"extension\"] == '.jpg' || result[\"extension\"] == 'jpeg') {\r\n                    li = '<li class= \"fa fa-file-image-o\" >';\r\n                } else {\r\n                    li = '<li class=\"fa fa-file\" >';\r\n                }\r\n                li = li + '<a name=\"material-file\"  data-id=\"' + result['id'] + '\" data-url=\"' + result['url'] + '\" href=\"/' + result['url'] + '\">' + result['choosen'] + '</a> <a type=\"button\" class=\"fa fa-times remove-material\" data-content=\"' + result['id'] + '\" style=\"color:red\"></a></li>';\r\n                $(\"#content-files\").append(li + \"<br/>\");\r\n                $(\"#material-name\").val(\"\");\r\n                remove_material();\r\n            }\r\n        });\r\n        return false;\r\n    });\r\n}\r\n\r\nfunction save_course_material() {\r\n    $(\"#course-material-form\").submit(function (event) {\r\n        event.preventDefault();\r\n        var formData = new FormData(this);\r\n        $.ajax({\r\n            url: '/admin/courses/savecoursematerial',\r\n            type: 'POST',\r\n            data: formData,\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (result) {\r\n\r\n                var li;\r\n                if (result[\"extension\"] == '.pdf') {\r\n                    li = '<li class=\"fa fa-file-pdf-o\">';\r\n                } else if (result[\"extension\"] == '.pps') {\r\n                    li = '<li class=\"fa fa-file-powerpoint-o\" >';\r\n                } else if (result[\"extension\"] == '.doc' || result[\"extension\"] == '.docx') {\r\n                    li = '<li class=\"fa fa-file-word-o\" >';\r\n                } else if (result[\"extension\"] == '.png' || result[\"extension\"] == '.jpg' || result[\"extension\"] == 'jpeg') {\r\n                    li = '<li class= \"fa fa-file-image-o\" >';\r\n                } else {\r\n                    li = '<li class=\"fa fa-file\" >';\r\n                }\r\n                li = li + '<a name=\"course-material-file\"  data-id=\"' + result['id'] + '\" data-url=\"' + result['url'] + '\" href=\"/' + result['url'] + '\">' + result['choosen'] + '</a> <a type=\"button\" class=\"fa fa-times remove-material\" data-content=\"' + result['id'] + '\" style=\"color:red\"></a></li>';\r\n                $(\"#course-content-files\").append(li + \"<br/>\");\r\n                $(\"#course-material-name\").val(\"\");\r\n                remove_course_material();\r\n            }\r\n        });\r\n        return false;\r\n    });\r\n}\r\n\r\nfunction remove_course_material() {\r\n    $(\".remove-course-material\").on('click', function () {\r\n        var removed_item = $(this);\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/remove-course-material',\r\n            data: {'course-content': $(this).data('content')\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n                $(removed_item).parent().remove();\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\nfunction add_teachers(selectedLesson, lesson_name) {\r\n\r\n\r\n    add_new_tab('teacher-percentage', lesson_name, \"Professores \", \"#add-teachers\");\r\n    add_tab_content('/admin/courses/editteachers', {lesson_id: selectedLesson}, 'add-teachers', function () {\r\n\r\n        save_teachers(selectedLesson, $(\"#save-teachers\"), $(\"[name|=teacher-name]\"));\r\n        $('.teachers-select').select2({\r\n            width: 'resolve',\r\n            minimumInputLength: 3,\r\n            ajax: {\r\n                type: 'POST',\r\n                url: '/admin/teachers/select',\r\n                dataType: 'json',\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                data: function (params) {\r\n                    return {\r\n                        term: params.term\r\n                    };\r\n                },\r\n                processResults: function (data) {\r\n                    return {results: data};\r\n                }\r\n            }\r\n        });\r\n        $(\".equal-divide\").click(function () {\r\n            equal_percentage(sizeDivsTeachers, $(\"[name|='teacher-percentage']\"));\r\n        });\r\n        $(\".remove-lesson-teacher\").click(function () {\r\n\r\n            $(this).parent().parent().css(\"display\", \"none\");\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"/admin/courses/remove-lesson-teacher\",\r\n                data: {\r\n                    \"lesson\": selectedLesson,\r\n                    \"teacher\": $(this).parent().parent().find(\".teachers-select\").val()\r\n                },\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                cache: false,\r\n                success: function (data) {\r\n                    console.log($(this).parent().parent());\r\n                    $(this).parent().parent().remove();\r\n                    flash_success(\"Professor excluído com sucesso!\");\r\n                }\r\n\r\n            });\r\n        });\r\n        var newFormTeachers;\r\n        var sizeDivsTeachers;\r\n        var newFieldTeachers;\r\n        var i = 0;\r\n        $(\".add-teacher\").off(\"click\").on(\"click\", function () {\r\n\r\n            // newFormTeachers = $(this).closest('.form-teachers').clone(true);\r\n\r\n            $('.teachers-select').last().select2(\"destroy\");\r\n            newFormTeachers = $('.form-teachers').last().clone(true);\r\n            $('.teachers-select').last().select2({\r\n                width: 'resolve',\r\n                minimumInputLength: 3,\r\n                ajax: {\r\n                    type: 'POST',\r\n                    url: '/admin/teachers/select',\r\n                    dataType: 'json',\r\n                    headers: {\r\n                        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                    },\r\n                    data: function (params) {\r\n                        return {\r\n                            term: params.term\r\n                        };\r\n                    },\r\n                    processResults: function (data) {\r\n\r\n                        return {results: data};\r\n                    }\r\n                }\r\n            });\r\n            $('.form-teachers').last().after(newFormTeachers);\r\n            sizeDivsTeachers = $('#teachers-fields').children.length + i;\r\n            newFieldTeachers = $('.form-teachers').last();\r\n            $('[name|=\"teacher-name\"]').last().attr('name', 'teacher-name-' + sizeDivsTeachers);\r\n            $('[name|=\"teacher-name\"]').last().attr('id', 'teacher-name-' + sizeDivsTeachers);\r\n            newFieldTeachers.attr('name', 'teachers-name-' + sizeDivsTeachers);\r\n            newFieldTeachers.val('');\r\n            $(\"label[for=name]\").last().text('Professor ' + sizeDivsTeachers);\r\n            i++;\r\n            $('.teachers-select').last().select2({\r\n                width: 'resolve',\r\n                minimumInputLength: 3,\r\n                ajax: {\r\n                    type: 'POST',\r\n                    url: '/admin/teachers/select',\r\n                    dataType: 'json',\r\n                    headers: {\r\n                        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                    },\r\n                    data: function (params) {\r\n                        return {\r\n                            term: params.term\r\n                        };\r\n                    },\r\n                    processResults: function (data) {\r\n                        return {results: data};\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction create_new_field_dynamic(field, portuguese_name, english_name, initial) {\r\n    var newFormGroup;\r\n    var sizeDivs;\r\n    var newField;\r\n    var i = initial;\r\n    field.one('change', function () {\r\n\r\n        newFormGroup = $(this).closest('.form-group').clone(true);\r\n        i = i + 1;\r\n        $('#fields .form-group').last().after(newFormGroup);\r\n        sizeDivs = $('#fields').children.length + i;\r\n        newField = $('#fields .form-control').last();\r\n        newField.attr('name', english_name + '-name-' + sizeDivs);\r\n        newField.val('');\r\n        $(\"label[for=name]\").last().text(portuguese_name + ' ' + sizeDivs);\r\n        create_new_field_dynamic(newField, 'module', 'Atividade', 2);\r\n    });\r\n}\r\n\r\n\r\nfunction create_new_tab(title, tab_id, table, route, type) {\r\n\r\n    $('<li><a href=\"#' + tab_id + '-' + id + '\" class=\"dynamic-tab\" data-toggle=\"tab\">' + title + ' ' + name + '</a></li>').appendTo('.nav-tabs');\r\n}\r\n\r\n\r\n\r\nfunction create_new_tab_from_view(title, tab_id, table, route) {\r\n    var id = table.row(this).data()[0];\r\n    var name = table.row(this).data()[1];\r\n    $('<li><a href=\"#' + tab_id + '-' + id + '\" class=\"dynamic-tab\" data-toggle=\"tab\">' + title + ' ' + name + '</a></li>').appendTo('.nav-tabs');\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/admin/courses/' + route,\r\n        data: {id: id\r\n        },\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n        success: function (data) {\r\n            $('<div class=\"tab-pane\" id=' + tab_id + '-' + id + '\">' + data + '</div>').appendTo('.tab-content');\r\n        }\r\n    });\r\n}\r\n\r\nfunction create_new_table_tab(title, new_table_id, table, route) {\r\n    var id = table.row(this).data()[0];\r\n    var new_data_table;\r\n    new_data_table = $('#' + new_table_id).DataTable({\r\n        \"processing\": true,\r\n        \"columnDefs\": [\r\n            {\"visible\": false, \"targets\": 0}\r\n        ],\r\n        \"ajax\": {\r\n            \"url\": \"/admin/courses/\" + id + \"/\" + route,\r\n            \"type\": \"POST\",\r\n            \"headers\": {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n        },\r\n        \"serverSide\": true,\r\n        language: {\r\n            url: '//cdn.datatables.net/plug-ins/1.10.9/i18n/Portuguese-Brasil.json'\r\n        }\r\n    });\r\n    return new_data_table;\r\n}\r\n\r\nfunction update_sequence(input_name, module_id) {\r\n\r\n\r\n    with_max_table_sequence(module_id, function (max) {\r\n        $(\"[name|='\" + input_name + \"'\").each(function (index) {\r\n\r\n            $(this).val(+max + (+index + 1));\r\n        });\r\n    });\r\n}\r\n\r\nfunction save_teachers(lesson_id, button, teachers) {\r\n\r\n    button.on('click', function () {\r\n\r\n        var teachers_map = {};\r\n        var total_percentage = 0;\r\n        $(\"[name|='teacher-name']\").each(function (index) {\r\n            var teacher_id = $(this).val();\r\n            var teacher_percentage = $(this).parent().parent().find(\"[name|='teacher-percentage']\").val();\r\n            console.log($(this).parent().parent());\r\n            total_percentage += +teacher_percentage;\r\n            teachers_map[teacher_id] = teacher_percentage;\r\n        });\r\n        console.log($(this).parent().parent());\r\n        console.log(total_percentage);\r\n        if (total_percentage > 100) {\r\n            flash_danger(\"Soma das porcentagens superior a 100%\");\r\n            return;\r\n        }\r\n\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/admin/courses/updateteachers\",\r\n            data: {\"teachers\": teachers_map,\r\n                \"lesson_id\": lesson_id\r\n\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n\r\n                //$('#add-videos-' + lesson_id).html(data);\r\n                //$('#add-videos-'+ selectedLesson).html(data);\r\n                flash_success(\"Professores salvos com sucesso\");\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\n\r\nfunction save_videos(lesson_id, button) {\r\n\r\n\r\n\r\n    button.off('click').on('click', function () {\r\n\r\n\r\n        console.log(lesson_id);\r\n        console.log($(\"[name='video[]']\"));\r\n        var url_map = {};\r\n        $(\"[name='video[]']\").each(function (index) {\r\n            var sequence = $(this).data(\"sequence\");\r\n            url_map[Number(sequence)] = $(this).val();\r\n        });\r\n        console.log(url_map);\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/admin/courses/updatevideos\",\r\n            data: {video: url_map,\r\n                lesson_id: lesson_id\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n\r\n\r\n                $(\"#lessons-table\").DataTable().ajax.reload(function () {\r\n\r\n                    add_delete_lesson();\r\n                    add_edit_questions();\r\n                });\r\n                $(\"#lessons-table\").on('draw.dt', function () {\r\n                    add_delete_lesson();\r\n                    add_edit_questions();\r\n                });\r\n                //$('#add-videos-' + lesson_id).html(data);\r\n                //$('#add-videos-'+ selectedLesson).html(data);\r\n                flash_success(\"Vídeos salvos com sucesso\");\r\n                remove_changed_attribute(\"add-videos-\");\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\n\r\nfunction save_module(module_id, button) {\r\n\r\n    button.off('click').on('click', function () {\r\n\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: '/admin/courses/updatemodule',\r\n            data: {module_id: module_id,\r\n                module: $(\"[id='edit-module']\").serialize(),\r\n            },\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            cache: false,\r\n            success: function (data) {\r\n                if (\"error\" in data) {\r\n                    flash_danger(data[\"error\"]);\r\n                } else {\r\n                    flash_success(data[\"success\"]);\r\n                }\r\n            },\r\n            error: function (xhr) {\r\n                if (xhr.status == 404) {\r\n                    flash_danger(\"Erro na comunicação com o servidor. Entre em contato com um administrador do sistema\");\r\n                } else {\r\n                    flash_danger(\"O sistema encontrou um erro de código \" + xhr.status + \". Entre em contato com o suporte técnico informando o código de erro\");\r\n                }\r\n            }\r\n\r\n        });\r\n    });\r\n}\r\n\r\nfunction save_lesson(lesson_id) {\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction post_form(id, form_id, route, method_with_data) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/admin/courses/' + route,\r\n        data: {\r\n            id: id,\r\n            form: $(\"[id='\" + form_id + \"']\").serialize(),\r\n        },\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n        success: function (data) {\r\n            if (\"error\" in data) {\r\n                flash_danger(data[\"error\"]);\r\n            } else {\r\n                flash_success(data[\"success\"]);\r\n            }\r\n            if (method_with_data !== undefined) {\r\n                method_with_data(data);\r\n            }\r\n\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction change_watcher(begin_with_id, event) {\r\n\r\n\r\n\r\n    $(\"[id^='\" + begin_with_id + \"'] .form-control\").not(\"[data-changed='true']\").off('input').on(\"input\", function () {\r\n        $(this).attr(\"data-changed\", \"true\");\r\n        //var actualTab =   $(\"[href='#\" +  $(\"[id^='\"+ begin_with_id +\"']\").attr('id') + \"'  ]\") ;\r\n        var actualTab = $(\"[href='#\" + begin_with_id + \"'\");\r\n        if (actualTab.text().indexOf(\" {modificado} \") == -1) {\r\n\r\n            actualTab.text(actualTab.text() + \" {modificado} \");\r\n            if (event != undefined)\r\n                event();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction remove_changed_attribute(begin_with_id) {\r\n    $(\"[id^='\" + begin_with_id + \"'] .form-control [data-changed='true']\").removeAttr(\"data-change\");\r\n    //var actualTab =   $(\"[href='#\" +  $(\"[id^='\"+ begin_with_id +\"']\").attr('id') + \"'  ]\") ;\r\n\r\n    var actualTab = $(\"[href='#\" + begin_with_id + \"'\");\r\n    if (actualTab.text().indexOf(\" {modificado} \") != -1) {\r\n\r\n        actualTab.text(actualTab.text().replace(\" {modificado} \", \"\"));\r\n    }\r\n\r\n}\r\n\r\nfunction is_changed(begin_with_id) {\r\n    var actualTab = $(\"[href='#\" + begin_with_id + \"'\");\r\n    if (actualTab.text().indexOf(\" {modificado} \") != -1) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\n\r\nfunction change_context_watcher(begin_with_id) {\r\n\r\n}\r\n\r\n\r\nfunction equal_percentage(number, teacher_percentage) {\r\n    var percentage = 100 / number;\r\n    percentage = percentage.toFixed(2);\r\n    teacher_percentage.val(percentage);\r\n}\r\n\r\n\r\n\r\nfunction with_max_table_sequence(module_id, with_function) {\r\n    $.ajax({\r\n        \"type\": \"POST\",\r\n        url: '/admin/courses/maxsequence',\r\n        data: {id: module_id\r\n        },\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n        success: function (data) {\r\n            with_function(data);\r\n        }\r\n    });\r\n}\r\n\r\nfunction add_delete_module() {\r\n\r\n    $(\".delete-module\").click(function () {\r\n\r\n        if (confirm(\"Tem certeza que deseja excluir esse item?\")) {\r\n            $.ajax({\r\n                \"type\": \"POST\",\r\n                url: '/admin/courses/remove-module',\r\n                data: {module: $(this).data(\"target-id\")\r\n                },\r\n                headers: {\r\n                    'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n                },\r\n                cache: false,\r\n                success: function (data) {\r\n                    $(\"#module-table\").DataTable().ajax.reload(function () {\r\n                        add_module_edit();\r\n                        add_delete_module();\r\n                    });\r\n                    if (data == 'true') {\r\n                        flash_success('Disciplina excluída com sucesso!')\r\n                    } else if (data == 'full') {\r\n                        flash_danger(\"Há aulas associadas a essa disciplina.\")\r\n                    } else {\r\n                        flash_danger(\"Não foi possível excluir a disciplina\");\r\n                    }\r\n                }\r\n            });\r\n            // $(\"#module-table\").\r\n\r\n        }\r\n    });\r\n    /*\r\n     $('[data-method]').append(function()\r\n     {\r\n     return \"\\n\"+\r\n     \"<form action='\"+$(this).attr('href')+\"' method='POST' name='delete_item' style='display:none'>\\n\"+\r\n     \"   <input type='hidden' name='_method' value='\"+$(this).attr('data-method')+\"'>\\n\"+\r\n     \"   <input type='hidden' name='_token' value='\"+$('meta[name=\"_token\"]').attr('content')+\"'>\\n\"+\r\n     \"</form>\\n\"\r\n     })\r\n     .removeAttr('href')\r\n     .attr('style','cursor:pointer;')\r\n     .attr('onclick','$(this).find(\"form\").submit();');\r\n     */\r\n    /*\r\n     Generic are you sure dialog\r\n     */\r\n    /*\r\n     $('form[name=delete_item]').submit(function(){\r\n     return confirm(\"Tem certeza que deseja excluir esse item?\");\r\n     });\r\n     */\r\n}\r\n\r\nfunction verify_unblock() {\r\n\r\n    var course_id = $(\"#course_id\").val();\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/admin/courses/unblock\",\r\n        data: {'course': course_id\r\n        },\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n        success: function (data) {\r\n\r\n            if (\"error\" in data) {\r\n                flash_danger(data[\"error\"]);\r\n                $('html,body').animate({\r\n                    scrollTop: 0\r\n                }, 700);\r\n            } else {\r\n                flash_success(data[\"success\"]);\r\n                $('.nav-tabs-custom').find('input, textarea, button, select').attr('disabled', 'disabled');\r\n                $('html,body').animate({\r\n                    scrollTop: 0\r\n                }, 700);\r\n            }\r\n        }\r\n\r\n    });\r\n}\r\n\r\nfunction clear_form_elements(selector) {\r\n    selector.find(':input').each(function () {\r\n        switch (this.type) {\r\n            case 'password':\r\n            case 'text':\r\n            case 'textarea':\r\n            case 'file':\r\n            case 'select-one':\r\n            case 'select-multiple':\r\n                $(this).val('');\r\n                break;\r\n            case 'checkbox':\r\n            case 'radio':\r\n                this.checked = false;\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\nfunction flash_message(type, message) {\r\n\r\n    $(\"#dynamic-flash\").css(\"opacity\", \"1\");\r\n    $(\"#dynamic-flash\").removeClass();\r\n    $(\"#dynamic-flash\").addClass(\"alert\");\r\n    $(\"#dynamic-flash\").addClass(type);\r\n    $(\"#dynamic-flash\").html(message);\r\n    setTimeout(function () {\r\n        $(\"#dynamic-flash\").css(\"opacity\", \"0\");\r\n    }, 5000);\r\n}\r\n\r\nfunction flash_success(message) {\r\n    flash_message(\"alert-success\", message);\r\n}\r\n\r\nfunction flash_warning(message) {\r\n    flash_message(\"alert-warning\", message);\r\n}\r\nfunction flash_danger(message) {\r\n    flash_message(\"alert-danger\", message);\r\n}\r\n\r\nfunction disable_tab(tab_selector) {\r\n\r\n    console.log(tab_selector);\r\n    tab_selector.attr(\"data-toggle\", \"\");\r\n    tab_selector.attr(\"href\", \"#lessons\");\r\n    console.log(tab_selector.parent());\r\n    tab_selector.parent().attr(\"class\", \"disabled\");\r\n}\r\n\r\nfunction enable_tab(tab_selector, target) {\r\n    tab_selector.attr(\"data-toggle\", \"tab\");\r\n    tab_selector.attr(\"href\", target);\r\n    tab_selector.parent().attr(\"class\", \"\");\r\n}\r\n\r\n\r\nfunction disable_lesson_related_tabs() {\r\n    disable_tab($(\"#video-tab\"));\r\n    disable_tab($(\"#teacher-percentage-tab\"));\r\n    disable_tab($(\"#edit-lesson-tab\"));\r\n    disable_tab($(\"#material-tab\"));\r\n}\r\n\r\nfunction enable_lesson_related_tabs(selectedLesson) {\r\n    enable_tab($(\"#video-tab\"), \"#add-videos-\" + selectedLesson);\r\n    enable_tab($(\"#teacher-percentage-tab\"), \"#add-teachers-\" + selectedLesson);\r\n    enable_tab($(\"#edit-lesson-tab\"), \"#edit-lesson-\" + selectedLesson);\r\n    enable_tab($(\"#material-tab\"), \"#add-material-\" + selectedLesson);\r\n}\r\n\r\n","$(function () {\r\n    \r\n    //Escuta do botão gerar pdf\r\n\t$(document).on('mouseover','#btnGenerationPDF', function(){\r\n\t\t//Verificar se o botão de gerar pdf está ativo\r\n\t    if($(this).attr('href') == '#'){\r\n    \t}else{\r\n    \t\t//Escondendo tooltip\r\n\t    \t$('.tooltip').hide();\r\n\t    }\r\n\t});\r\n\r\n\t//Escuta Mudança de Estado do campo\r\n    $(\"#name\").on(\"keyup\", function (e) {\r\n    \te.preventDefault();\r\n    \t//Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n        \t'background-color': '#babfc2',\r\n        \t'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n\t});\r\n\r\n    //Escuta Mudança de Estado do campo\r\n\t$(\"#code\").on(\"keyup\", function (e) {\r\n    \te.preventDefault();\r\n    \t//Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n        \t'background-color': '#babfc2',\r\n        \t'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n\t});\r\n\r\n\t//Escuta Mudança de Estado do campo\r\n\t$(\"#start_date\").on(\"keyup\", function (e) {\r\n    \te.preventDefault();\r\n    \t//Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n        \t'background-color': '#babfc2',\r\n        \t'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n\t});\r\n\t\r\n\t//Escuta Mudança de Estado do campo\r\n\t$(\"#due_date\").on(\"keyup\", function (e) {\r\n    \te.preventDefault();\r\n    \t//Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n        \t'background-color': '#babfc2',\r\n        \t'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n\t});\r\n\r\n\t//Escuta Mudança de Estado do campo\r\n\t$(\".students-select\").select2({\r\n        minimumInputLength: 3,\r\n        ajax: {\r\n            type: 'POST',\r\n            url: '/admin/students/select',\r\n            dataType: 'json',\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            data: function(params) {\r\n                return {\r\n                    term: params.term\r\n                };\r\n            },\r\n            processResults: function(data) {\r\n                return { results: data };\r\n            }\r\n        }\r\n    }).on(\"change\", function (e) {\r\n        e.preventDefault();\r\n        //Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n            'background-color': '#babfc2',\r\n            'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n    });\r\n\r\n\t//Escuta Mudança de Estado do campo\r\n\t$(\".courses-select\").select2({\r\n        minimumInputLength: 3,\r\n        ajax: {\r\n            type: 'POST',\r\n            url: '/admin/courses/select',\r\n            dataType: 'json',\r\n            headers: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            data: function(params) {\r\n                return {\r\n                    term: params.term\r\n                };\r\n            },\r\n            processResults: function(data) {\r\n                return { results: data };\r\n            }\r\n        }\r\n    }).on(\"change\", function (e) {\r\n        e.preventDefault();\r\n        //Trocar propiedade css do botão de gerar pdf e desativar o link\r\n        $('#btnGenerationPDF').css({\r\n            'background-color': '#babfc2',\r\n            'border-color': '#babfc2'\r\n        }).attr('href', '#');\r\n    });\r\n\t\r\n    \r\n    $(\".textarea-description\").wysihtml5({\r\n        events: {\r\n            //Escuta Mudança de Estado do campo\r\n            change: function(){\r\n                //Trocar propiedade css do botão de gerar pdf e desativar o link\r\n                $('#btnGenerationPDF').css({\r\n                    'background-color': '#babfc2',\r\n                    'border-color': '#babfc2'\r\n                }).attr('href', '#');\r\n            }\r\n        },\r\n        toolbar:{\r\n            html: true,\r\n        },\r\n        parserRules: {\r\n            tags: {\r\n                strong: {},\r\n                em: {},\r\n                table: {\r\n                    check_attributes: {\r\n                        width: \"any\",\r\n                        style: \"any\",\r\n                        colspan: \"any\",\r\n                    }\r\n                },\r\n                td: {\r\n                    check_attributes: {\r\n                        width: \"any\",\r\n                        style: \"any\",\r\n                        colspan: \"any\",\r\n                    }\r\n                },\r\n                tr: {\r\n                    check_attributes: {\r\n                        width: \"any\",\r\n                        style: \"any\",\r\n                        colspan: \"any\",\r\n                    }\r\n                },\r\n                th: {\r\n                    check_attributes: {\r\n                        width: \"any\",\r\n                        style: \"any\",\r\n                        colspan: \"any\",\r\n                    }\r\n                },\r\n                img:{\r\n                    check_attributes: {\r\n                        src: \"src\",\r\n                    }\r\n                }\r\n            },\r\n        },\r\n    });\r\n});","$(document).ready(function(){\r\n\t\r\n\tvar workshop_id;\r\n\r\n\t$('.myworkshoptutors tr').on('click', function(){\r\n\r\n\t\t//Adicionando o nome do usuário ao text field\r\n\t\t$('#name-user').val($(this).children()[0].innerText);\r\n\t\t\r\n\t\t//Adicionando o nome do workshop ao text field\r\n\t\t$('#name-workshop').val($(this).children()[2].innerText);\r\n\t\t\r\n\t\t//Abrindo modal\r\n\t\t$('#modalAddTutor').modal('toggle');\r\n\t\t\r\n\t\t//Pegando o id do workshop\r\n\t\tworkshop_id = $(this).attr('data-workshop');\r\n\t\t\r\n\t\t//Atribuindo ao input hidden o id do workshop\r\n\t\t$('#workshop').val(workshop_id);\r\n\r\n\t\t//Atribuindo ao input hidden o id da matrícula\r\n\t\t$('#enrollment').val($(this).attr('data-enrollment'));\r\n\r\n\t\t$(\"#modalAddTutor\").on('shown.bs.modal',function(){\r\n\t\t\tcreateSelect(\"tutor\", undefined, $(\"#modalAddTutor\"));\r\n\t\t\tcreateSelect(\"criteria\", undefined, $(\"#modalAddTutor\"), workshop_id);\r\n\t\t\tcreateSelect(\"activity\", undefined, $(\"#modalAddTutor\"), workshop_id);\r\n\t\t});\r\n\t});\r\n\r\n\t$('#group-form').submit(function(e){\r\n\t\te.preventDefault();\r\n\t\t$.ajax({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/admin/myworkshoptutors/store',\r\n\t\t\tdataType: 'Json',\r\n\t\t\tdata: $(this).serialize(),\r\n\t\t\theaders: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            success: function(data){\r\n            \tif(data == true){\r\n            \t\tflash_success('Tutor associado ao aluno com sucesso.');\r\n            \t\tsetTimeout(function(){\r\n\t\t\t\t        window.location.reload();\r\n\t\t\t\t    },2000);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tflash_warning('Erro ao associador tutor ao aluno. Tente novamente');\r\n\t\t\t\t}\r\n            }\r\n\t\t});\r\n\t});\r\n});","/*!\r\n * Chart.js\r\n * http://chartjs.org/\r\n * Version: 1.0.2\r\n *\r\n * Copyright 2015 Nick Downie\r\n * Released under the MIT license\r\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\r\n */\r\n(function(){\"use strict\";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t[\"offset\"+i]?t[\"offset\"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i)},e=this.width=i(t.canvas,\"Width\"),n=this.height=i(t.canvas,\"Height\");t.canvas.width=e,t.canvas.height=n;var e=this.width=t.canvas.width,n=this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:\"easeOutQuart\",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:\"rgba(0,0,0,.1)\",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:\"<%=value%>\",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",scaleFontSize:12,scaleFontStyle:\"normal\",scaleFontColor:\"#666\",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:[\"mousemove\",\"touchstart\",\"touchmove\",\"mouseout\"],tooltipFillColor:\"rgba(0,0,0,0.8)\",tooltipFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",tooltipFontSize:14,tooltipFontStyle:\"normal\",tooltipFontColor:\"#fff\",tooltipTitleFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",tooltipTitleFontSize:14,tooltipTitleFontStyle:\"bold\",tooltipTitleFontColor:\"#fff\",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:\"<%if (label){%><%=label%>: <%}%><%= value %>\",multiTooltipTemplate:\"<%= value %>\",multiTooltipKeyBackground:\"#fff\",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty(\"constructor\")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return\"chart-\"+t++}}(),d=s.warn=function(t){window.console&&\"function\"==typeof window.console.warn&&console.warn(t)},p=s.amd=\"function\"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(\".\")[1].length:0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,S=Math.round(f/v)}else v/=2,S=Math.round(f/v);return h&&(S=o,v=f/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=/\\W/.test(t)?new Function(\"obj\",\"var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('\"+t.replace(/[\\r\\t\\n]/g,\" \").split(\"<%\").join(\"\t\").replace(/((^|%>)[^\\t]*)'/g,\"$1\\r\").replace(/\\t=(.*?)%>/g,\"',$1,'\").split(\"\t\").join(\"');\").split(\"%>\").join(\"p.push('\").split(\"\\r\").join(\"\\\\'\")+\"');}return p.join('');\"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),w=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),b=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),L=(s.animationLoop=function(t,i,e,s,n,o){var a=0,h=w[e]||w.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=b(l):n.apply(o)};b(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent(\"on\"+i,e):t[\"on\"+i]=e}),k=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent(\"on\"+i,e):t[\"on\"+i]=c},F=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},L(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){k(t.chart.canvas,e,i)})}),R=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},T=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},A=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+\"px\",i.canvas.style.height=s+\"px\",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+\" \"+t+\"px \"+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return P(this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=R(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:T(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,A(this.chart),\"function\"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),F(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\")):(t.style.removeAttribute(\"width\"),t.style.removeAttribute(\"height\")),delete e.instances[this.id]},showTooltip:function(t,i){\"undefined\"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d(\"Name not provided for this chart, so it hasn't been registered\");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin=\"bevel\",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign=\"center\",this.yAlign=\"above\";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign=\"left\":this.x-e/2<0&&(this.xAlign=\"right\"),this.y-n<0&&(this.yAlign=\"below\");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case\"above\":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case\"below\":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case\"left\":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case\"right\":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign=\"center\",t.textBaseline=\"middle\",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign=\"left\",t.textBaseline=\"middle\",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign=\"right\",t.textBaseline=\"middle\",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?\"right\":\"center\",t.textBaseline=o?\"middle\":\"top\",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign=\"center\",t.textBaseline=\"middle\",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?\"center\":i===a?\"center\":a>i?\"left\":\"right\",t.textBaseline=r?\"middle\":l?\"bottom\":\"top\",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,\"resize\",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):\"object\"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:\"rgba(0,0,0,.05)\",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Bar\",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore([\"fillColor\",\"strokeColor\"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:\"rgba(0,0,0,0)\",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))\r\n},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:\"#fff\",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:\"easeOutBounce\",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Doughnut\",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore([\"fillColor\"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(Math.abs(t)/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore([\"fillColor\"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:\"Pie\",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:\"rgba(0,0,0,.05)\",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Line\",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore([\"fillColor\",\"strokeColor\"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:\"rgba(0,0,0,0)\",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:\"rgba(255,255,255,0.75)\",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:\"#fff\",segmentStrokeWidth:2,animationSteps:100,animationEasing:\"easeOutBounce\",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"PolarArea\",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore([\"fillColor\"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:\"Radar\",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:\"rgba(0,0,0,.1)\",angleLineWidth:1,pointLabelFontFamily:\"'Arial'\",pointLabelFontStyle:\"normal\",pointLabelFontSize:10,pointLabelFontColor:\"#666\",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);","Chart.defaults.global = {\r\n    // Boolean - Whether to animate the chart\r\n    animation: true,\r\n\r\n    // Number - Number of animation steps\r\n    animationSteps: 60,\r\n\r\n    // String - Animation easing effect\r\n    // Possible effects are:\r\n    // [easeInOutQuart, linear, easeOutBounce, easeInBack, easeInOutQuad,\r\n    //  easeOutQuart, easeOutQuad, easeInOutBounce, easeOutSine, easeInOutCubic,\r\n    //  easeInExpo, easeInOutBack, easeInCirc, easeInOutElastic, easeOutBack,\r\n    //  easeInQuad, easeInOutExpo, easeInQuart, easeOutQuint, easeInOutCirc,\r\n    //  easeInSine, easeOutExpo, easeOutCirc, easeOutCubic, easeInQuint,\r\n    //  easeInElastic, easeInOutSine, easeInOutQuint, easeInBounce,\r\n    //  easeOutElastic, easeInCubic]\r\n    animationEasing: \"easeOutQuart\",\r\n\r\n    // Boolean - If we should show the scale at all\r\n    showScale: true,\r\n\r\n    // Boolean - If we want to override with a hard coded scale\r\n    scaleOverride: false,\r\n\r\n    // ** Required if scaleOverride is true **\r\n    // Number - The number of steps in a hard coded scale\r\n    scaleSteps: null,\r\n    // Number - The value jump in the hard coded scale\r\n    scaleStepWidth: null,\r\n    // Number - The scale starting value\r\n    scaleStartValue: null,\r\n\r\n    // String - Colour of the scale line\r\n    scaleLineColor: \"rgba(0,0,0,.1)\",\r\n\r\n    // Number - Pixel width of the scale line\r\n    scaleLineWidth: 1,\r\n\r\n    // Boolean - Whether to show labels on the scale\r\n    scaleShowLabels: true,\r\n\r\n    // Interpolated JS string - can access value\r\n    scaleLabel: \"<%=value%>\",\r\n\r\n    // Boolean - Whether the scale should stick to integers, not floats even if drawing space is there\r\n    scaleIntegersOnly: true,\r\n\r\n    // Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\r\n    scaleBeginAtZero: false,\r\n\r\n    // String - Scale label font declaration for the scale label\r\n    scaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n    // Number - Scale label font size in pixels\r\n    scaleFontSize: 12,\r\n\r\n    // String - Scale label font weight style\r\n    scaleFontStyle: \"normal\",\r\n\r\n    // String - Scale label font colour\r\n    scaleFontColor: \"#666\",\r\n\r\n    // Boolean - whether or not the chart should be responsive and resize when the browser does.\r\n    responsive: true,\r\n\r\n    // Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container\r\n    maintainAspectRatio: true,\r\n\r\n    // Boolean - Determines whether to draw tooltips on the canvas or not\r\n    showTooltips: true,\r\n\r\n    // Function - Determines whether to execute the customTooltips function instead of drawing the built in tooltips (See [Advanced - External Tooltips](#advanced-usage-custom-tooltips))\r\n    customTooltips: false,\r\n\r\n    // Array - Array of string names to attach tooltip events\r\n    tooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\"],\r\n\r\n    // String - Tooltip background colour\r\n    tooltipFillColor: \"rgba(0,0,0,0.8)\",\r\n\r\n    // String - Tooltip label font declaration for the scale label\r\n    tooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n    // Number - Tooltip label font size in pixels\r\n    tooltipFontSize: 14,\r\n\r\n    // String - Tooltip font weight style\r\n    tooltipFontStyle: \"normal\",\r\n\r\n    // String - Tooltip label font colour\r\n    tooltipFontColor: \"#fff\",\r\n\r\n    // String - Tooltip title font declaration for the scale label\r\n    tooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\r\n\r\n    // Number - Tooltip title font size in pixels\r\n    tooltipTitleFontSize: 14,\r\n\r\n    // String - Tooltip title font weight style\r\n    tooltipTitleFontStyle: \"bold\",\r\n\r\n    // String - Tooltip title font colour\r\n    tooltipTitleFontColor: \"#fff\",\r\n\r\n    // Number - pixel width of padding around tooltip text\r\n    tooltipYPadding: 6,\r\n\r\n    // Number - pixel width of padding around tooltip text\r\n    tooltipXPadding: 6,\r\n\r\n    // Number - Size of the caret on the tooltip\r\n    tooltipCaretSize: 8,\r\n\r\n    // Number - Pixel radius of the tooltip border\r\n    tooltipCornerRadius: 6,\r\n\r\n    // Number - Pixel offset from point x to tooltip edge\r\n    tooltipXOffset: 10,\r\n\r\n    // String - Template string for single tooltips\r\n    tooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\r\n\r\n    // String - Template string for multiple tooltips\r\n    multiTooltipTemplate: \"<%= value %>\",\r\n\r\n\r\n    // Function - Will fire on animation progression.\r\n    onAnimationProgress: function(){},\r\n\r\n    // Function - Will fire on animation completion.\r\n    onAnimationComplete: function(){}\r\n}\r\n\r\nif(document.getElementById(\"course-graph\") != undefined) {\r\n    var ctx = document.getElementById(\"course-graph\").getContext(\"2d\");\r\n    var sales_ctx = document.getElementById(\"sales-graph\").getContext(\"2d\");\r\n\r\n    ctx.canvas.width = 50;\r\n    ctx.canvas.height = 50;\r\n    //sales_ctx.canvas.width = 300;\r\n    sales_ctx.canvas.height = 100;\r\n\r\n    create_chart_by_time(sales_ctx, 'annual', 'courses', 0)\r\n    create_pie_chart(ctx, 'courses');\r\n\r\n}\r\nfunction create_chart_by_time(selector, period, type, specific){\r\n    console.log('creating');\r\n    $.ajax({\r\n    url: \"/admin/courses/report\",\r\n        type: \"POST\",\r\n        data: {\r\n            period: period,\r\n            type: type,\r\n            specific: specific,\r\n    },\r\n    headers: {\r\n        'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n    },\r\n    cache: false,\r\n\r\n        success: function(data){\r\n            console.log(data);\r\n            var data_keys = [];\r\n            var data_values = [];\r\n\r\n            $.each(data,function(key,value){\r\n                data_keys.push(key);\r\n                data_values.push(value);\r\n            });\r\n\r\n\r\n\r\n\r\n            var values = {\r\n                labels: data_keys,\r\n                datasets: [\r\n                    {\r\n                        label: 'Cursos vendidos',\r\n                        fillColor: \"rgba(60,60,60,0.2)\",\r\n                        strokeColor: \"rgba(60,60,60,1)\",\r\n                        pointColor: \"rgba(60,60,60,1)\",\r\n                        pointStrokeColor: \"#fff\",\r\n                        pointHighlightFill: \"#fff\",\r\n                        pointHighlightStroke: \"rgba(60,60,60,1)\",\r\n                        data: data_values\r\n                    }]\r\n            };\r\n            console.log(values);\r\n\r\n\r\n            var time_line_chart = new Chart(selector).Line(values,{\r\n                bezierCurve: true,\r\n                responsive: true\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\nfunction create_pie_chart(selector, type){\r\n    console.log('creating');\r\n    $.ajax({\r\n        url: \"/admin/courses/totalSales\",\r\n        type: \"POST\",\r\n        data: {\r\n            type: type\r\n        },\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n        },\r\n        cache: false,\r\n\r\n        success: function(data){\r\n            console.log(data);\r\n            var total_data = [];\r\n            var color = '';\r\n\r\n\r\n            $.each(data,function(key,value){\r\n\r\n                r = Math.floor(Math.random() * 200) + 50;\r\n                console.log(r);\r\n                g = Math.floor(Math.random() * 200) + 50;\r\n                console.log(g);\r\n                b = Math.floor(Math.random() * 200) + 50;\r\n                console.log(b);\r\n                color = 'rgb(' + r + ', ' + g + ', ' + b + ')';\r\n                //data_keys.push(key);\r\n                //data_values.push(value);\r\n                console.log(value);\r\n                total_data.push({\r\n                    value: value,\r\n                    label: key,\r\n                    color: color\r\n                });\r\n            });\r\n\r\n            console.log('finishing');\r\n            console.log(total_data);\r\n\r\n\r\n            //console.log(values);\r\n\r\n\r\n            var time_line_chart = new Chart(selector).Pie(total_data,{\r\n\r\n                animateRotate : true,\r\n                legendTemplate:   \"<table class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><tr><td><i class=\\\"fa fa-square\\\" style=\\\"color:<%=segments[i].fillColor%>; font-size: 3.0rem;\\\" ></i>&nbsp;&nbsp;<%if(segments[i].label){%><%=segments[i].label%><%}%></td></tr><%}%></table>\"\r\n            });\r\n\r\n            console.log(time_line_chart.generateLegend())\r\n            $(\"#course-legend\").html(time_line_chart.generateLegend());\r\n\r\n        }\r\n    });\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","$(function(){\r\n\r\n\tvar id = null;\r\n\r\n\t$('.table #btn-edit-tutor-activity').on('click', function(e){\r\n\t\te.preventDefault();\r\n\r\n\t\tcreateSelect(\"tutor\", 'myworkshopevaluations/tutor/select', $(\"#modalEditTutorActivity\"));\r\n\r\n\t\t$('#modalEditTutorActivity').modal('toggle');\r\n\r\n\t\tid = $(this).parent().parent()[0].children[8].getAttribute('id');\r\n\r\n\t\t//Adicionando o nome do usuário ao text field\r\n\t\t$('#name-user').val($(this).parent().parent()[0].children[0].innerText);\r\n\r\n\t\t//Adicionando descrição e atividade do workshop ao text field\r\n\t\t$('#description-workshop').val($(this).parent().parent()[0].children[2].innerText);\r\n\r\n\t});\r\n\r\n\t$('#editTutorActivity').submit(function(e){\r\n\t\te.preventDefault();\r\n\t\tconsole.log($(this).serialize());\r\n\t\t$.ajax({\r\n\t\t\tmethod: 'POST',\r\n\t\t\turl: '/admin/myworkshopevaluations/updateTutor/'+id,\r\n\t\t\tdataType: 'Json',\r\n\t\t\tdata: $(this).serialize(),\r\n\t\t\theaders: {\r\n                'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n            },\r\n            success: function(data){\r\n            \tif(data == true){\r\n            \t\tflash_success('Tutor da atividade alterado com sucesso.');\r\n            \t\tsetTimeout(function(){\r\n\t\t\t\t        window.location.reload();\r\n\t\t\t\t    },1500);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tflash_warning('Erro ao alterar tutor da atividade. Tente novamente.');\r\n\t\t\t\t}\r\n            }\r\n\t\t});\r\n\t});\r\n\r\n});","$(document).ready(function(){\r\n\t$('.content-preview').on('click', function(e){\r\n\t\te.preventDefault();\r\n\t\t$('#vimeoPreviewModal').modal('toggle');\r\n\t});\r\n});","$(function(){\r\n\r\n\tvar id = null;\r\n\r\n\r\n\t$('.table #btn-webinars-users').on('click', function(e){\r\n\t\te.preventDefault();\r\n\r\n\t\tid = $(this).attr('data-id');\r\n\r\n\t\tvar modal = $('#modalUsersCourse').modal('toggle');\r\n\r\n\t\t$.ajax({\r\n\t\t\tmethod: 'GET',\r\n\t\t\tdataType: 'Json',\r\n\t\t\turl: '/admin/webinars/users_course?id='+id,\r\n\t\t\theaders: {\r\n\t\t\t\t'X-CSRF-TOKEN': $('meta[name=\"_token\"]').attr('content')\r\n\t\t\t},\r\n\t\t\tsuccess: function(data){\r\n\t\t\t\tif(data == false){\r\n\t\t\t\t\t$('#modalUsersCourse .modal-body').html(\"<h2>Nenhum aluno matriculado neste Curso.</h2>\");\r\n\t\t\t\t}else {\r\n\t\t\t\t\tvar html = '<table id=\"users-course\" class=\"table table-striped table-bordered table-hover\">';\r\n\t\t\t\t\t\t\thtml += '<thead>';\r\n\t\t\t\t\t\t\t\thtml += '<th>';\r\n\t\t\t\t\t\t\t\t\thtml += 'E-mail';\r\n\t\t\t\t\t\t\t\thtml += '</th>';\r\n\t\t\t\t\t\t\thtml += '</thead>';\r\n\r\n\t\t\t\t\t\t\thtml += '<tbody>';\r\n\t\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\t\t\t\t\thtml += \"<tr>\";\r\n\t\t\t\t\t\t\t\t\t\thtml += \"<td>\";\r\n\t\t\t\t\t\t\t\t\t\t\thtml += '' + data[i].student_email + ',';\r\n\t\t\t\t\t\t\t\t\t\thtml += \"</td>\";\r\n\t\t\t\t\t\t\t\t\thtml += \"</tr>\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\thtml += '</tbody>';\r\n\t\t\t\t\thtml += '</table>';\r\n\t\t\t\t\t$('#modalUsersCourse .modal-body').html(html);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t});\r\n});"]}